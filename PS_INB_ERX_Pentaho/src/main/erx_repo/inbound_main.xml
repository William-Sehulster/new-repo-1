<?xml version="1.0" encoding="UTF-8"?>
<repository>

<transformations>
<transformation>
  <info>
    <name>IBMP_DrugCheck_TRN</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;inbound_main</directory>
    <parameters>
        <parameter>
            <name>INBOUND_NCPDP_MSG_ID</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>PHARMACY_DIVISION</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;08&#x2f;16 16&#x3a;29&#x3a;59.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2019&#x2f;01&#x2f;17 08&#x3a;34&#x3a;54.000</modified_date>
    <key_for_session_key/>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Retry Check</from><to>Drug Check Failure - Allow Retry 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check</from><to>Drug Check Failure - RPC not reachable</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input 2</from><to>Retry Check 2</to><enabled>Y</enabled> </hop>
  <hop> <from>check for success</from><to>check for failure type</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2</from><to>Drug Check Failure - Allow Retry</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2</from><to>Drug Check Failure - RPC not reachable 2</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input 2</from><to>Write to log</to><enabled>Y</enabled> </hop>
  <hop> <from>Table input</from><to>REST Client 2</to><enabled>Y</enabled> </hop>
  <hop> <from>check for failure type</from><to>Retry Check</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input 2</from><to>check for success</to><enabled>Y</enabled> </hop>
  <hop> <from>check for failure type</from><to>Drug Check Failure - No Match</to><enabled>Y</enabled> </hop>
  <hop> <from>REST Client 2</from><to>JSON Input 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Drug Check Success</from><to>Drug Check Failure - RPC not reachable</to><enabled>Y</enabled> </hop>
  <hop> <from>check for success</from><to>Replace in string</to><enabled>Y</enabled> </hop>
  <hop> <from>Replace in string</from><to>Drug Check Success</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Drug Check Failure - Allow Retry</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set drug_chk_status &#x3d; &#x27;1004&#x27;,&#xd;&#xa;drug_match_details &#x3d;  &#x27;&#x3c;drugCheck&#x3e;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#x3c;drugName&#x3e;&#x3c;&#x2f;drugName&#x3e;&#x3c;drugIEN&#x3e;&#x3c;&#x2f;drugIEN&#x3e;&#x3c;errorMessage&#x3e;&#x3c;&#x21;&#x5b;CDATA&#x5b; &#x3f; &#x5d;&#x5d;&#x3e;&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;drugCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>rest_result</name></argument>
       <argument><name>RUNCOUNT</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>544</xloc>
      <yloc>256</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Drug Check Failure - Allow Retry 2</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set drug_chk_status &#x3d; &#x27;1004&#x27;,&#xd;&#xa;drug_match_details &#x3d;  &#x27;&#x3c;drugCheck&#x3e;&#x3c;success&#x3e;&#x3f;&#x3c;&#x2f;success&#x3e;&#x3c;drugName&#x3e;&#x3c;&#x2f;drugName&#x3e;&#x3c;drugIEN&#x3e;&#x3c;&#x2f;drugIEN&#x3e;&#x3c;errorMessage&#x3e;System error occurred&#x3a; &#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;drugCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x3f;&#x3b;&#xd;&#xa;commit&#x3b;&#xd;&#xa;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>success</name></argument>
       <argument><name>vistaMessage</name></argument>
       <argument><name>RUNCOUNT</name></argument>
       <argument><name>INBOUND_NCPDP_MSG_ID</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1136</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Drug Check Failure - No Match</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set drug_chk_status &#x3d; &#x27;1002&#x27;,&#xd;&#xa;drug_match_details &#x3d;  &#x27;&#x3c;drugCheck&#x3e;&#x3c;success&#x3e;&#x3f;&#x3c;&#x2f;success&#x3e;&#x3c;drugName&#x3e;&#x3c;&#x2f;drugName&#x3e;&#x3c;drugIEN&#x3e;&#x3c;&#x2f;drugIEN&#x3e;&#x3c;errorMessage&#x3e;&#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;drugCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x3f;&#x3b;&#xd;&#xa;commit&#x3b;&#xd;&#xa;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>success</name></argument>
       <argument><name>vistaMessage</name></argument>
       <argument><name>RUNCOUNT</name></argument>
       <argument><name>INBOUND_NCPDP_MSG_ID</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>848</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Drug Check Failure - RPC not reachable</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set drug_chk_status &#x3d; &#x27;1003&#x27;,&#xd;&#xa;drug_match_details &#x3d; &#x27;&#x3c;drugCheck&#x3e;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#x3c;drugName&#x3e;&#x3c;&#x2f;drugName&#x3e;&#x3c;drugIEN&#x3e;&#x3c;&#x2f;drugIEN&#x3e;&#x3c;errorMessage&#x3e;VISTAOP_RETRIES_EXCEEDED_DRUG_RPC_NOT_AVAILABLE&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;drugCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x3f;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>RUNCOUNT</name></argument>
       <argument><name>INBOUND_NCPDP_MSG_ID</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1120</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Drug Check Failure - RPC not reachable 2</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set drug_chk_status &#x3d; &#x27;1003&#x27;,&#xd;&#xa;drug_match_details &#x3d; &#x27;&#x3c;drugCheck&#x3e;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#x3c;drugName&#x3e;&#x3c;&#x2f;drugName&#x3e;&#x3c;drugIEN&#x3e;&#x3c;&#x2f;drugIEN&#x3e;&#x3c;errorMessage&#x3e;VISTAOP_RETRIES_EXCEEDED_DRUG_RPC_NOT_AVAILABLE&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;drugCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x3f;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>RUNCOUNT</name></argument>
       <argument><name>INBOUND_NCPDP_MSG_ID</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>736</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Drug Check Success</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set drug_chk_status &#x3d; &#x27;1001&#x27;,&#xd;&#xa;drug_match_details &#x3d; &#x27;&#x3c;drugCheck&#x3e;&#x3c;success&#x3e;&#x3f;&#x3c;&#x2f;success&#x3e;&#x3c;drugName&#x3e;&#x3f;&#x3c;&#x2f;drugName&#x3e;&#x3c;drugIEN&#x3e;&#x3f;&#x3c;&#x2f;drugIEN&#x3e;&#x3c;errorMessage&#x3e;&#x3f; &#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;drugCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;&#xd;&#xa;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>success</name></argument>
       <argument><name>drugDescription</name></argument>
       <argument><name>vistaIEN</name></argument>
       <argument><name>errorMessage</name></argument>
       <argument><name>vistaMessage</name></argument>
       <argument><name>RUNCOUNT</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>864</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>JSON Input 2</name>
    <type>JsonInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <readurl>N</readurl>
    <removeSourceField>N</removeSourceField>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <ignoreMissingPath>Y</ignoreMissingPath>
    <defaultPathLeafToNull>N</defaultPathLeafToNull>
    <rownum_field/>
    <file>
      <name/>
      <filemask/>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>success</name>
        <path>success</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>errorMessage</name>
        <path>errorMessage</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>drugDescription</name>
        <path>drugDescription</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>vistaIEN</name>
        <path>vistaIEN</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>vistaMessage</name>
        <path>vistaMessage</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <valueField>rest_result</valueField>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>384</xloc>
      <yloc>80</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>REST Client 2</name>
    <type>Rest</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <applicationType>JSON</applicationType>
    <method>POST</method>
    <url/>
    <urlInField>Y</urlInField>
    <dynamicMethod>N</dynamicMethod>
    <methodFieldName/>
    <urlField>URL</urlField>
    <bodyField>BODY</bodyField>
    <httpLogin>&#x24;&#x7b;WS_USERNAME&#x7d;</httpLogin>
    <httpPassword>&#x24;&#x7b;WS_PASSWORD&#x7d;</httpPassword>
    <proxyHost/>
    <proxyPort/>
    <preemptive>Y</preemptive>
    <trustStoreFile/>
    <trustStorePassword>Encrypted </trustStorePassword>
    <headers>
      </headers>
    <parameters>
      </parameters>
    <matrixParameters>
      </matrixParameters>
    <result>
      <name>rest_result</name>
      <code/>
      <response_time/>
      </result>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>208</xloc>
      <yloc>80</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Replace in string</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>drugDescription</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x27;</replace_string>
        <replace_by_string>&#x26;&#x23;39&#x3b;</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>drugDescription</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x3e;</replace_string>
        <replace_by_string>&#x26;gt&#x3b;</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>drugDescription</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x3c;</replace_string>
        <replace_by_string>&#x26;lt&#x3b;</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>drugDescription</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x22;</replace_string>
        <replace_by_string>&#x26;quot&#x3b;</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>drugDescription</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x26;</replace_string>
        <replace_by_string>&#x26;amp&#x3b;</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>704</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Retry Check</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Drug Check Failure - Allow Retry 2</send_true_to>
<send_false_to>Drug Check Failure - RPC not reachable</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>RUNCOUNT</leftvalue>
 <function>&#x3c;</function>
 <rightvalue>RETRY</rightvalue>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>912</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Retry Check 2</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Drug Check Failure - Allow Retry</send_true_to>
<send_false_to>Drug Check Failure - RPC not reachable 2</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>RUNCOUNT</leftvalue>
 <function>&#x3c;</function>
 <rightvalue>RETRY</rightvalue>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>544</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Table input</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <sql>select productCodeQual, &#x28;select value from app_configuration where key &#x3d; &#x27;ERX_URL&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x28;select value from app_configuration where key &#x3d; &#x27;DRGCHK_RS_URI&#x27;&#x29;as url,&#xd;&#xa;&#x27;&#x7b;&#x22;ndcUPN&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;decode&#x28;drug_info.productCodeQual, &#x27;M&#x27;, null, nvl2&#x28;drug_info.productCode, drug_info.productCodeQual,&#x27;&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;nvl2&#x28;drug_info.productCodeQual,nvl2&#x28;drug_info.productCode,&#x27;&#x5e;&#x27;,null&#x29;,null&#x29;&#x7c;&#x7c;nvl2&#x28;drug_info.productCodeQual,drug_info.productCode,&#x27;&#x27;&#x29;&#x29;&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;drugDescription&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;REGEXP_REPLACE &#x28;&#xd;&#xa;          CONVERT &#x28;&#xd;&#xa;             drug_info.drugDesc,&#xd;&#xa;             &#x27;US7ASCII&#x27;,&#xd;&#xa;             &#x27;WE8ISO8859P1&#x27;&#x29;,&#xd;&#xa;          &#x27;&#x5b;&#x5e;&#x21;&#x40;&#x2f;.,&#x3b;&#x3a;&#x3c;&#x3e;&#x23;&#x24;&#x25;&#x26;&#x28;&#x29;_&#x3d;&#x5b;&#x3a;alnum&#x3a;&#x5d;&#x5b;&#x3a;blank&#x3a;&#x5d;&#x5d;&#x27;&#x29; &#x7c;&#x7c;&#x27;&#x22;,&#x22;division&#x22;&#x3a;&#x22;&#x24;&#x7b;PHARMACY_DIVISION&#x7d;&#x22;&#x7d;&#x27; as body,&#xd;&#xa;t.inbound_ncpdp_msg_id inbound_ncpdp_msg_id,&#xd;&#xa;&#x28;nvl&#x28;extractValue&#x28;xmltype&#x28;nvl&#x28;t.drug_match_details,&#x27;&#x3c;drugCheck&#x2f;&#x3e;&#x27;&#x29;&#x29;, &#x27;&#x2f;drugCheck&#x2f;runCount&#x27;&#x29;,0&#x29; &#x2b; 1&#x29; runCount,&#xd;&#xa;nvl&#x28;&#x28;select value from app_configuration where key &#x3d; &#x27;VISTA_RETRY&#x27;&#x29;,0&#x29; as retry&#xd;&#xa;from erx.inbound_ncpdp_msg t, xmltable&#x28;xmlnamespaces&#x28;&#x27;http&#x3a;&#x2f;&#x2f;www.ncpdp.org&#x2f;schema&#x2f;SCRIPT&#x27; as &#x22;ns&#x22;&#x29;, &#x27;&#x2f;ns&#x3a;Message&#x27;&#xd;&#xa;    passing t.message&#xd;&#xa;    columns &#xd;&#xa;    drugDesc varchar2&#x28;105&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;MedicationPrescribed&#x2f;ns&#x3a;DrugDescription&#x27;,&#xd;&#xa;    productCode varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;MedicationPrescribed&#x2f;ns&#x3a;DrugCoded&#x2f;ns&#x3a;ProductCode&#x27;,&#xd;&#xa;    productCodeQual varchar2&#x28;1&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;MedicationPrescribed&#x2f;ns&#x3a;DrugCoded&#x2f;ns&#x3a;ProductCodeQualifier&#x27;&#x29; drug_info  &#xd;&#xa;    where t.inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#xd;&#xa;    </sql>
    <limit>1</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>48</xloc>
      <yloc>80</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Write to log</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <loglevel>log_level_basic</loglevel>
      <displayHeader>Y</displayHeader>
      <limitRows>N</limitRows>
      <limitRowsNumber>0</limitRowsNumber>
      <logmessage/>
    <fields>
      <field>
        <name>errorMessage</name>
        </field>
      <field>
        <name>rest_result</name>
        </field>
      <field>
        <name>vistaMessage</name>
        </field>
      <field>
        <name>success</name>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>384</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>check for failure type</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Drug Check Failure - No Match</send_true_to>
<send_false_to>Retry Check</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>vistaIEN</leftvalue>
   <function>IS NULL</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>found</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>errorMessage</leftvalue>
   <function>IS NULL</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>found</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>688</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>check for success</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Replace in string</send_true_to>
<send_false_to>check for failure type</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>success</leftvalue>
 <function>&#x3d;</function>
 <rightvalue/>
 <value><name>constant</name><type>String</type><text>true</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value> </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>544</xloc>
      <yloc>80</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
      <error>
        <source_step>Drug Check Success</source_step>
        <target_step>Drug Check Failure - RPC not reachable</target_step>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
      <error>
        <source_step>JSON Input 2</source_step>
        <target_step>Retry Check 2</target_step>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>IBMP_EandE_PatientCheck_TRN</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;inbound_main</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;26 23&#x3a;39&#x3a;45.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2018&#x2f;04&#x2f;23 12&#x3a;29&#x3a;18.000</modified_date>
    <key_for_session_key/>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>check for failure type</from><to>EandE Check Failure</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2</from><to>EandE Check Failure 4 - Allow Retry</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2</from><to>EandE Check Failure 3 - RPC Not Reachable</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2 2</from><to>EandE Check Failure 2 - Allow Retry</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2 2</from><to>EandE Check Failure 2 2 - RPC Not Reachable</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input 2</from><to>Retry Check 2 2</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input 2</from><to>Write to log</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input 2</from><to>Check for Success</to><enabled>Y</enabled> </hop>
  <hop> <from>Table input</from><to>REST Client</to><enabled>Y</enabled> </hop>
  <hop> <from>REST Client</from><to>JSON Input 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Check for Success</from><to>EandE Check Success</to><enabled>Y</enabled> </hop>
  <hop> <from>Check for Success</from><to>check for failure type</to><enabled>Y</enabled> </hop>
  <hop> <from>check for failure type</from><to>Retry Check 2</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Check for Success</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>EandE Check Success</send_true_to>
<send_false_to>check for failure type</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>eligibilityStatus</leftvalue>
   <function>&#x3d;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>VERIFIED</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>enrollmentStatus</leftvalue>
   <function>CONTAINS</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>Verified</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>528</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>EandE Check Failure</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0102&#x27;,&#xd;&#xa;patient_match_details &#x3d;  &#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#x27;&#xd;&#xa;&#x7c;&#x7c;&#x28;select EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;mvi&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;mvi&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;siteMatch&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;siteMatch&#x27;&#x29; &#xd;&#xa; from inbound_ncpdp_msg where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x3c;eande&#x3e;&#xd;&#xa;&#x3c;eligibilityStatus&#x3e;&#x3f;&#x3c;&#x2f;eligibilityStatus&#x3e;&#xd;&#xa;&#x3c;enrollmentStatus&#x3e;&#x3f;&#x3c;&#x2f;enrollmentStatus&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;&#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x24;&#x7b;RUNCOUNTEE&#x7d;&#x3c;&#x2f;runCount&#x3e;&#xd;&#xa;&#x3c;&#x2f;eande&#x3e;&#xd;&#xa;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>eligibilityStatus</name></argument>
       <argument><name>enrollmentStatus</name></argument>
       <argument><name>errorMessage</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>800</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>EandE Check Failure 2 - Allow Retry</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0107&#x27;,&#xd;&#xa;patient_match_details &#x3d;  &#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#x27;&#xd;&#xa;&#x7c;&#x7c;&#x28;select EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;mvi&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;mvi&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;siteMatch&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;siteMatch&#x27;&#x29;  from inbound_ncpdp_msg where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x3c;eande&#x3e;&#xd;&#xa;&#x3c;eligibilityStatus&#x3e;&#x3c;&#x2f;eligibilityStatus&#x3e;&#xd;&#xa;&#x3c;enrollmentStatus&#x3e;&#x3c;&#x2f;enrollmentStatus&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x24;&#x7b;RUNCOUNTEE&#x7d;&#x3c;&#x2f;runCount&#x3e;&#xd;&#xa;&#x3c;&#x2f;eande&#x3e;&#xd;&#xa;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>rest_result</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>624</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>EandE Check Failure 2 2 - RPC Not Reachable</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0103&#x27;,&#xd;&#xa;patient_match_details &#x3d;  &#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#x27;&#xd;&#xa;&#x7c;&#x7c;&#x28;select EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;mvi&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;mvi&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;siteMatch&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;siteMatch&#x27;&#x29;  from inbound_ncpdp_msg where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x3c;eande&#x3e;&#xd;&#xa;&#x3c;eligibilityStatus&#x3e;&#x3c;&#x2f;eligibilityStatus&#x3e;&#xd;&#xa;&#x3c;enrollmentStatus&#x3e;&#x3c;&#x2f;enrollmentStatus&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;EandE_RETRIES_EXCEEDED_SERVICE_NOT_REACHABLE&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x24;&#x7b;RUNCOUNTEE&#x7d;&#x3c;&#x2f;runCount&#x3e;&#xd;&#xa;&#x3c;&#x2f;eande&#x3e;&#xd;&#xa;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>rest_result</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>272</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>EandE Check Failure 3 - RPC Not Reachable</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0103&#x27;,&#xd;&#xa;patient_match_details &#x3d;  &#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#x27;&#xd;&#xa;&#x7c;&#x7c;&#x28;select EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;mvi&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;mvi&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;siteMatch&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;siteMatch&#x27;&#x29; &#xd;&#xa; from inbound_ncpdp_msg where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x3c;eande&#x3e;&#xd;&#xa;&#x3c;eligibilityStatus&#x3e;&#x3f;&#x3c;&#x2f;eligibilityStatus&#x3e;&#xd;&#xa;&#x3c;enrollmentStatus&#x3e;&#x3f;&#x3c;&#x2f;enrollmentStatus&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;EandE_RETRIES_EXCEEDED_SERVICE_NOT_REACHABLE&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x24;&#x7b;RUNCOUNTEE&#x7d;&#x3c;&#x2f;runCount&#x3e;&#xd;&#xa;&#x3c;&#x2f;eande&#x3e;&#xd;&#xa;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>eligibilityStatus</name></argument>
       <argument><name>enrollmentStatus</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>992</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>EandE Check Failure 4 - Allow Retry</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0107&#x27;,&#xd;&#xa;patient_match_details &#x3d;  &#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#x27;&#xd;&#xa;&#x7c;&#x7c;&#x28;select EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;mvi&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;mvi&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;siteMatch&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;siteMatch&#x27;&#x29; &#xd;&#xa; from inbound_ncpdp_msg where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x3c;eande&#x3e;&#xd;&#xa;&#x3c;eligibilityStatus&#x3e;&#x3f;&#x3c;&#x2f;eligibilityStatus&#x3e;&#xd;&#xa;&#x3c;enrollmentStatus&#x3e;&#x3f;&#x3c;&#x2f;enrollmentStatus&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;System Error Occurred.&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x24;&#x7b;RUNCOUNTEE&#x7d;&#x3c;&#x2f;runCount&#x3e;&#xd;&#xa;&#x3c;&#x2f;eande&#x3e;&#xd;&#xa;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>eligibilityStatus</name></argument>
       <argument><name>enrollmentStatus</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1008</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>EandE Check Success</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0101&#x27;,&#xd;&#xa;patient_match_details &#x3d;  &#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#x27;&#xd;&#xa;&#x7c;&#x7c;&#x28;select EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;mvi&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;mvi&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;EXTRACT&#x28;xmltype&#x28;nvl&#x28;patient_match_details,&#x27;&#x3c;siteMatch&#x2f;&#x3e;&#x27;&#x29;&#x29;,&#x27;&#x2f;&#x2f;siteMatch&#x27;&#x29;  from inbound_ncpdp_msg where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x3c;eande&#x3e;&#xd;&#xa;&#x3c;eligibilityStatus&#x3e;&#x3f;&#x3c;&#x2f;eligibilityStatus&#x3e;&#xd;&#xa;&#x3c;enrollmentStatus&#x3e;&#x3f;&#x3c;&#x2f;enrollmentStatus&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;&#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x24;&#x7b;RUNCOUNTEE&#x7d;&#x3c;&#x2f;runCount&#x3e;&#xd;&#xa;&#x3c;&#x2f;eande&#x3e;&#xd;&#xa;&#x3c;success&#x3e;&#x24;&#x7b;siteMatch&#x7d;&#x3c;&#x2f;success&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>eligibilityStatus</name></argument>
       <argument><name>enrollmentStatus</name></argument>
       <argument><name>errorMessage</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>816</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>JSON Input 2</name>
    <type>JsonInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <readurl>N</readurl>
    <removeSourceField>N</removeSourceField>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <ignoreMissingPath>Y</ignoreMissingPath>
    <defaultPathLeafToNull>N</defaultPathLeafToNull>
    <rownum_field/>
    <file>
      <name/>
      <filemask/>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>eligibilityStatus</name>
        <path>eligibilityStatus</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>errorMessage</name>
        <path>errorMessage</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>enrollmentStatus</name>
        <path>enrollmentStatus</path>
        <type>None</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <valueField>rest_result</valueField>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>368</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>REST Client</name>
    <type>Rest</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <applicationType>JSON</applicationType>
    <method>POST</method>
    <url/>
    <urlInField>Y</urlInField>
    <dynamicMethod>N</dynamicMethod>
    <methodFieldName/>
    <urlField>URL</urlField>
    <bodyField>BODY</bodyField>
    <httpLogin>&#x24;&#x7b;WS_USERNAME&#x7d;</httpLogin>
    <httpPassword>&#x24;&#x7b;WS_PASSWORD&#x7d;</httpPassword>
    <proxyHost/>
    <proxyPort/>
    <preemptive>Y</preemptive>
    <trustStoreFile/>
    <trustStorePassword>Encrypted </trustStorePassword>
    <headers>
      </headers>
    <parameters>
      </parameters>
    <matrixParameters>
      </matrixParameters>
    <result>
      <name>rest_result</name>
      <code/>
      <response_time/>
      </result>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>224</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Retry Check 2</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>EandE Check Failure 4 - Allow Retry</send_true_to>
<send_false_to>EandE Check Failure 3 - RPC Not Reachable</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>RUNCOUNTEE</leftvalue>
 <function>&#x3c;</function>
 <rightvalue>RETRY</rightvalue>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>800</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Retry Check 2 2</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>EandE Check Failure 2 - Allow Retry</send_true_to>
<send_false_to>EandE Check Failure 2 2 - RPC Not Reachable</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>RUNCOUNTEE</leftvalue>
 <function>&#x3c;</function>
 <rightvalue>RETRY</rightvalue>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>480</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Table input</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <sql>select &#x28;select value from app_configuration where key &#x3d; &#x27;ERX_URL&#x27;&#x29;&#x7c;&#x7c;value as url, &#x27;&#x7b;&#x22;patientInfo&#x22;&#x3a;&#xd;&#xa;&#x7b;&#x22;key&#x22;&#x3a;&#x22;&#x24;&#x7b;patientICN&#x7d;&#x22;&#x7d;&#xd;&#xa;&#x7d;&#x27; as body,&#xd;&#xa;&#x27;&#x24;&#x7b;RUNCOUNTEE&#x7d;&#x27; as RUNCOUNTEE,&#xd;&#xa;&#x27;&#x24;&#x7b;RETRY&#x7d;&#x27; as RETRY &#xd;&#xa; from app_configuration where key &#x3d; &#x27;EandE_RS_URI&#x27;</sql>
    <limit>1</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>80</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Write to log</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <loglevel>log_level_basic</loglevel>
      <displayHeader>Y</displayHeader>
      <limitRows>N</limitRows>
      <limitRowsNumber>0</limitRowsNumber>
      <logmessage/>
    <fields>
      <field>
        <name>eligibilityStatus</name>
        </field>
      <field>
        <name>rest_result</name>
        </field>
      <field>
        <name>RETRY</name>
        </field>
      <field>
        <name>RUNCOUNTEE</name>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>304</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>check for failure type</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>EandE Check Failure</send_true_to>
<send_false_to>Retry Check 2</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>errorMessage</leftvalue>
   <function>IS NULL</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>No match Found.</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>640</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
      <error>
        <source_step>JSON Input 2</source_step>
        <target_step>Retry Check 2 2</target_step>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>IBMP_InsertOutboundMsg_TRN</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;inbound_main</directory>
    <parameters>
        <parameter>
            <name>MESSAGE</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>MESSAGE_TYPE</name>
            <default_value>ERROR</default_value>
            <description/>
        </parameter>
        <parameter>
            <name>PHARMACY_ID</name>
            <default_value>0</default_value>
            <description/>
        </parameter>
        <parameter>
            <name>REL_TO_MESSAGE_ID</name>
            <default_value>TEST1</default_value>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;26 23&#x3a;39&#x3a;45.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;03&#x2f;27 10&#x3a;46&#x3a;35.000</modified_date>
    <key_for_session_key/>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Switch &#x2f; Case</from><to>Set MESSAGE to VERIFY</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Date_Time</from><to>Format Date-Time</to><enabled>Y</enabled> </hop>
  <hop> <from>Format Date-Time</from><to>Generate random value</to><enabled>Y</enabled> </hop>
  <hop> <from>Set MESSAGE to ERROR</from><to>Get Date_Time</to><enabled>Y</enabled> </hop>
  <hop> <from>Concat Date-Time and Random Value for New Message ID</from><to>Upper Case New Message ID</to><enabled>Y</enabled> </hop>
  <hop> <from>Set MESSAGE to VERIFY</from><to>Get Date_Time</to><enabled>Y</enabled> </hop>
  <hop> <from>Generate random value</from><to>Concat Date-Time and Random Value for New Message ID</to><enabled>Y</enabled> </hop>
  <hop> <from>Upper Case New Message ID</from><to>Inject Values into NCPDP Error Message Template</to><enabled>Y</enabled> </hop>
  <hop> <from>Switch &#x2f; Case</from><to>Set MESSAGE to ERROR</to><enabled>Y</enabled> </hop>
  <hop> <from>Inject Values into NCPDP Error Message Template</from><to>Insert to OUTBOUND_NCPDP_MSG</to><enabled>Y</enabled> </hop>
  <hop> <from>Concat Date-Time and Random Value for New Message ID</from><to>Write to log</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Concat Date-Time and Random Value for New Message ID</name>
    <type>ConcatFields</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <separator>_</separator>
    <enclosure/>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>N</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>file</name>
      <is_command>N</is_command>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>txt</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>N</pad>
      <fast_dump>N</fast_dump>
      <splitevery>0</splitevery>
    </file>
    <fields>
      <field>
        <name>MESSAGE_ID_DATETIME</name>
        <type>None</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>MESSAGE_ID_NEW2</name>
        <type>None</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
    <ConcatFields>
<targetFieldName>MESSAGE_ID_NEW_1</targetFieldName>
<targetFieldLength>35</targetFieldLength>
<removeSelectedFields>N</removeSelectedFields>
    </ConcatFields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>976</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Format Date-Time</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>&#xd;&#xa;var d &#x3d; new Date&#x28;&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;var output &#x3d; date2str&#x28;TODAY_DATE_TIME, &#x22;MMddyyyyHHmmsss&#x22;&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;var output2 &#x3d; d.toISOString&#x28;&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>output</name>
        <rename>MESSAGE_ID_DATETIME</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>output2</name>
        <rename>MESSAGE_SENT_DATETIME</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>672</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Generate random value</name>
    <type>RandomValue</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>MESSAGE_ID</name>
        <type>random string</type>
      </field>
      <field>
        <name>MESSAGE_ID2</name>
        <type>random string</type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>816</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Date_Time</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>TODAY_DATE_TIME</name>
        <type>today end</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>512</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Inject Values into NCPDP Error Message Template</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_to&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>PROVIDER_NPI</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_from&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>PHARMACY_NCPDPID</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_message_id&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>MESSAGE_ID_NEW_1</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_relates_to_message_id&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>MESSAGE_ID</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_sent_time&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>MESSAGE_SENT_DATETIME</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_error_code&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>ERROR_CODE</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_description_code&#x7d;</replace_string>
        <replace_by_string>007</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_description&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>ERROR_DESC</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>368</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert to OUTBOUND_NCPDP_MSG</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>insert into outbound_ncpdp_msg &#x28;message_id,rel_to_message_id,  message, message_type, message_status, pharmacy_id&#x29;&#xd;&#xa;values &#x28;upper&#x28;to_char&#x28;current_timestamp,&#x27;DDMONYYYYHH24MISSFF3&#x27;&#x29;&#x7c;&#x7c;substr&#x28;&#x27;_&#x3f;&#x3f;&#x27;,1,17&#x29;&#x29;,&#x27;&#x24;&#x7b;REL_TO_MESSAGE_ID&#x7d;&#x27;,&#x27;&#x24;&#x7b;MESSAGE&#x7d;&#x27;,&#x27;&#x24;&#x7b;MESSAGE_TYPE&#x7d;&#x27;,&#x27;0000&#x27;,&#x24;&#x7b;PHARMACY_ID&#x7d;&#x29;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>MESSAGE_ID</name></argument>
       <argument><name>MESSAGE_ID2</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>368</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set MESSAGE to ERROR</name>
    <type>SetValueConstant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
   <usevar>N</usevar>
    <fields>
      <field>
        <name>MESSAGE</name>
        <value>&#x3c;&#x3f;xml version&#x3d;&#x22;1.0&#x22; encoding&#x3d;&#x22;UTF-8&#x22;&#x3f;&#x3e;&#x3c;Message version&#x3d;&#x22;010&#x22; release&#x3d;&#x22;006&#x22; HighestVersionSupported&#x3d;&#x22;&#x22; xmlns&#x3d;&#x22;http&#x3a;&#x2f;&#x2f;www.ncpdp.org&#x2f;schema&#x2f;SCRIPT&#x22;&#x3e;&#x3c;Header&#x3e;&#x3c;To Qualifier&#x3d;&#x22;P&#x22;&#x3e; &#x3c;&#x2f;To&#x3e;&#x3c;From Qualifier&#x3d;&#x22;P&#x22;&#x3e; &#x3c;&#x2f;From&#x3e;&#x3c;MessageID&#x3e;&#x21;&#x3c;&#x2f;MessageID&#x3e;&#x3c;RelatesToMessageID&#x2f;&#x3e;&#x3c;SentTime&#x3e;2001-12-17T09&#x3a;30&#x3a;47Z&#x3c;&#x2f;SentTime&#x3e;&#x3c;&#x2f;Header&#x3e;&#x3c;Body&#x3e;&#x3c;Error&#x3e;&#x3c;Code&#x3e;600&#x3c;&#x2f;Code&#x3e;&#x3c;DescriptionCode&#x3e;001&#x3c;&#x2f;DescriptionCode&#x3e;&#x3c;DescriptionCode&#x3e;001&#x3c;&#x2f;DescriptionCode&#x3e;&#x3c;Description&#x2f;&#x3e;&#x3c;&#x2f;Error&#x3e;&#x3c;&#x2f;Body&#x3e;&#x3c;&#x2f;Message&#x3e;</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>368</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set MESSAGE to VERIFY</name>
    <type>SetValueConstant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
   <usevar>N</usevar>
    <fields>
      <field>
        <name>MESSAGE</name>
        <value>&#x3c;&#x3f;xml version&#x3d;&#x22;1.0&#x22;&#x3f;&#x3e;&#x3c;Message version&#x3d;&#x22;010&#x22; release&#x3d;&#x22;006&#x22; xmlns&#x3d;&#x22;http&#x3a;&#x2f;&#x2f;www.ncpdp.org&#x2f;schema&#x2f;SCRIPT&#x22;&#x3e;&#x3c;Header&#x3e;&#x3c;To Qualifier&#x3d;&#x22;P&#x22;&#x3e;&#x7b;set_to&#x7d;&#x3c;&#x2f;To&#x3e;&#x3c;From Qualifier&#x3d;&#x22;D&#x22;&#x3e;&#x7b;set_from&#x7d;&#x3c;&#x2f;From&#x3e;&#x3c;MessageID&#x3e;&#x7b;set_message_id&#x7d;&#x3c;&#x2f;MessageID&#x3e;&#x3c;RelatesToMessageID&#x3e;&#x7b;set_relates_to_message_id&#x7d;&#x3c;&#x2f;RelatesToMessageID&#x3e;&#x3c;SentTime&#x3e;&#x7b;set_sent_time&#x7d;&#x3c;&#x2f;SentTime&#x3e;&#x3c;&#x2f;Header&#x3e;&#x3c;Body&#x3e;&#x3c;Verify&#x3e;&#x3c;VerifyStatus&#x3e;&#x3c;Code&#x3e;010&#x3c;&#x2f;Code&#x3e;&#x3c;Description&#x2f;&#x3e;&#x3c;&#x2f;VerifyStatus&#x3e;&#x3c;&#x2f;Verify&#x3e;&#x3c;&#x2f;Body&#x3e;&#x3c;&#x2f;Message&#x3e;</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>368</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Switch &#x2f; Case</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>MESSAGE_TYPE</fieldname>
<use_contains>N</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Set MESSAGE to ERROR</default_target_step>
<cases><case><value>ERROR</value>
<target_step>Set MESSAGE to ERROR</target_step>
</case><case><value>STATUS</value>
<target_step>Set MESSAGE to VERIFY</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>80</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Upper Case New Message ID</name>
    <type>StringOperations</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>MESSAGE_ID_NEW_1</in_stream_name>
        <out_stream_name/>
        <trim_type>none</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>656</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Write to log</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <loglevel>log_level_basic</loglevel>
      <displayHeader>Y</displayHeader>
      <limitRows>N</limitRows>
      <limitRowsNumber>0</limitRowsNumber>
      <logmessage>LOG&#x21;&#x21;&#x21;&#x21;&#x21;</logmessage>
    <fields>
      <field>
        <name>MESSAGE_ID</name>
        </field>
      <field>
        <name>MESSAGE_SENT_DATETIME</name>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>912</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>IBMP_PatientCheck_TRN</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;inbound_main</directory>
    <parameters>
        <parameter>
            <name>INBOUND_NCPDP_MSG_ID</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;08&#x2f;16 16&#x3a;30&#x3a;17.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2018&#x2f;10&#x2f;02 19&#x3a;29&#x3a;07.000</modified_date>
    <key_for_session_key/>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Switch &#x2f; Case Error Type</from><to>MVI Match Not Found</to><enabled>Y</enabled> </hop>
  <hop> <from>Switch &#x2f; Case</from><to>Pharmacy Registration Check</to><enabled>Y</enabled> </hop>
  <hop> <from>Pharmacy Registration Check</from><to>Set siteMatch</to><enabled>Y</enabled> </hop>
  <hop> <from>Set siteMatch</from><to>MVI - Match Found - Site Registration Not Confirmed</to><enabled>Y</enabled> </hop>
  <hop> <from>Pharmacy Registration Check</from><to>Set siteMatch 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Set siteMatch 2</from><to>MVI Match Found</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input</from><to>Retry Check 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2</from><to>MVI Service Call Failure - Allow Retry</to><enabled>Y</enabled> </hop>
  <hop> <from>Switch &#x2f; Case Error Type</from><to>Retry Check 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Build Service URL</from><to>MVI REST Client</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2</from><to>MVI Service Call Failure - RPC Not Reachable</to><enabled>Y</enabled> </hop>
  <hop> <from>Build Service URL</from><to>Write to log</to><enabled>N</enabled> </hop>
  <hop> <from>MVI REST Client</from><to>JSON Input</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input</from><to>Write to log 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Switch &#x2f; Case</from><to>Switch &#x2f; Case Error Type</to><enabled>Y</enabled> </hop>
  <hop> <from>MVI Match Found</from><to>Do EandE check&#x3f;</to><enabled>Y</enabled> </hop>
  <hop> <from>MVI - Match Found - Site Registration Not Confirmed</from><to>Do EandE check&#x3f;</to><enabled>Y</enabled> </hop>
  <hop> <from>Do EandE check&#x3f;</from><to>IBMP_EandE_PatientCheck_TRN</to><enabled>Y</enabled> </hop>
  <hop> <from>Do EandE check&#x3f;</from><to>EandE Check Skipped</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input</from><to>remove special chars from names</to><enabled>Y</enabled> </hop>
  <hop> <from>remove special chars from names</from><to>Switch &#x2f; Case</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Build Service URL</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <sql>select &#x28;select value from app_configuration where key &#x3d; &#x27;ERX_URL&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x28;select value from app_configuration where key &#x3d; &#x27;MVI_RS_URI&#x27;&#x29;as url,&#xd;&#xa;&#x27;&#x7b;&#x22;firstName&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;REGEXP_REPLACE &#x28;&#xd;&#xa;          CONVERT &#x28;&#xd;&#xa;             patient_info.patient_first_name,&#xd;&#xa;             &#x27;US7ASCII&#x27;,&#xd;&#xa;             &#x27;WE8ISO8859P1&#x27;&#x29;,&#xd;&#xa;          &#x27;&#x5b;&#x5e;&#x21;&#x40;&#x2f;.,&#x3b;&#x3a;&#x3c;&#x3e;&#x23;&#x24;&#x25;&#x26;&#x28;&#x29;_&#x3d;&#x5b;&#x3a;alnum&#x3a;&#x5d;&#x5b;&#x3a;blank&#x3a;&#x5d;&#x5d;&#x27;&#x29;&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;middleName&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;REGEXP_REPLACE &#x28;&#xd;&#xa;          CONVERT &#x28;&#xd;&#xa;             patient_info.patient_middle_name,&#xd;&#xa;             &#x27;US7ASCII&#x27;,&#xd;&#xa;             &#x27;WE8ISO8859P1&#x27;&#x29;,&#xd;&#xa;          &#x27;&#x5b;&#x5e;&#x21;&#x40;&#x2f;.,&#x3b;&#x3a;&#x3c;&#x3e;&#x23;&#x24;&#x25;&#x26;&#x28;&#x29;_&#x3d;&#x5b;&#x3a;alnum&#x3a;&#x5d;&#x5b;&#x3a;blank&#x3a;&#x5d;&#x5d;&#x27;&#x29;&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;lastName&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;REGEXP_REPLACE &#x28;&#xd;&#xa;          CONVERT &#x28;&#xd;&#xa;             patient_info.patient_last_name,&#xd;&#xa;             &#x27;US7ASCII&#x27;,&#xd;&#xa;             &#x27;WE8ISO8859P1&#x27;&#x29;,&#xd;&#xa;          &#x27;&#x5b;&#x5e;&#x21;&#x40;&#x2f;.,&#x3b;&#x3a;&#x3c;&#x3e;&#x23;&#x24;&#x25;&#x26;&#x28;&#x29;_&#x3d;&#x5b;&#x3a;alnum&#x3a;&#x5d;&#x5b;&#x3a;blank&#x3a;&#x5d;&#x5d;&#x27;&#x29;&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;dateOfBirth&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;decode&#x28;instr&#x28;patient_info.date_of_birth,&#x27;-&#x27;,1&#x29;,5,to_char&#x28;to_date&#x28;substr&#x28;patient_info.date_of_birth,1,10&#x29;,&#x27;YYYY-MM-DD&#x27;&#x29;,&#x27;YYYYMMDD&#x27;&#x29;,&#x27;99990909&#x27;&#x29;&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;address&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;REGEXP_REPLACE &#x28;&#xd;&#xa;          CONVERT &#x28;&#xd;&#xa;            patient_info.address_line_1,&#xd;&#xa;             &#x27;US7ASCII&#x27;,&#xd;&#xa;             &#x27;WE8ISO8859P1&#x27;&#x29;,&#xd;&#xa;          &#x27;&#x5b;&#x5e;&#x21;&#x40;&#x2f;.,&#x3b;&#x3a;&#x3c;&#x3e;&#x23;&#x24;&#x25;&#x26;&#x28;&#x29;_&#x3d;&#x5b;&#x3a;alnum&#x3a;&#x5d;&#x5b;&#x3a;blank&#x3a;&#x5d;&#x5d;&#x27;&#x29;&#x7c;&#x7c;&#x27; &#x27;&#x7c;&#x7c;REGEXP_REPLACE &#x28;&#xd;&#xa;          CONVERT &#x28;&#xd;&#xa;             patient_info.address_line_2,&#xd;&#xa;             &#x27;US7ASCII&#x27;,&#xd;&#xa;             &#x27;WE8ISO8859P1&#x27;&#x29;,&#xd;&#xa;          &#x27;&#x5b;&#x5e;&#x21;&#x40;&#x2f;.,&#x3b;&#x3a;&#x3c;&#x3e;&#x23;&#x24;&#x25;&#x26;&#x28;&#x29;_&#x3d;&#x5b;&#x3a;alnum&#x3a;&#x5d;&#x5b;&#x3a;blank&#x3a;&#x5d;&#x5d;&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x27;, &#x27;&#x7c;&#x7c;REGEXP_REPLACE &#x28;&#xd;&#xa;          CONVERT &#x28;&#xd;&#xa;             patient_info.city,&#xd;&#xa;             &#x27;US7ASCII&#x27;,&#xd;&#xa;             &#x27;WE8ISO8859P1&#x27;&#x29;,&#xd;&#xa;          &#x27;&#x5b;&#x5e;&#x21;&#x40;&#x2f;.,&#x3b;&#x3a;&#x3c;&#x3e;&#x23;&#x24;&#x25;&#x26;&#x28;&#x29;_&#x3d;&#x5b;&#x3a;alnum&#x3a;&#x5d;&#x5b;&#x3a;blank&#x3a;&#x5d;&#x5d;&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x27;, &#x27;&#x7c;&#x7c;patient_info.state&#x7c;&#x7c;&#xd;&#xa;&#x27;, &#x27;&#x7c;&#x7c;patient_info.zipcode&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;telephone&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;REGEXP_REPLACE &#x28;&#xd;&#xa;          CONVERT &#x28;&#xd;&#xa;             patient_phone.patient_number,&#xd;&#xa;             &#x27;US7ASCII&#x27;,&#xd;&#xa;             &#x27;WE8ISO8859P1&#x27;&#x29;,&#xd;&#xa;          &#x27;&#x5b;&#x5e;&#x21;&#x40;&#x2f;.,&#x3b;&#x3a;&#x3c;&#x3e;&#x23;&#x24;&#x25;&#x26;&#x28;&#x29;_&#x3d;&#x5b;&#x3a;alnum&#x3a;&#x5d;&#x5b;&#x3a;blank&#x3a;&#x5d;&#x5d;&#x27;&#x29;&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;gender&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;patient_info.patient_gender&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;socSecNum&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;patient_info.ssn&#x7c;&#x7c;&#x27;&#x22;&#x7d;&#x27; as body,&#xd;&#xa;nvl&#x28;&#x28;select substr&#x28;va_station_id,1,3&#x29; from pharmacy where ncpdp_id &#x3d; nvl&#x28;patient_info.pharmacy_ncpdpid1,case when regexp_like&#x28;patient_info.pharmacy_ncpdpid2, &#x27;&#x5e;-&#x3f;&#x5b;&#x5b;&#x3a;digit&#x3a;&#x5d;,.&#x5d;&#x2a;&#x24;&#x27;&#x29; then patient_info.pharmacy_ncpdpid2 else null end &#x29;&#x29;,&#x27;0&#x27;&#x29; as va_station_id,&#xd;&#xa;nvl&#x28;&#x28;select eande_check from pharmacy where ncpdp_id &#x3d; nvl&#x28;patient_info.pharmacy_ncpdpid1,case when regexp_like&#x28;patient_info.pharmacy_ncpdpid2, &#x27;&#x5e;-&#x3f;&#x5b;&#x5b;&#x3a;digit&#x3a;&#x5d;,.&#x5d;&#x2a;&#x24;&#x27;&#x29; then patient_info.pharmacy_ncpdpid2 else null end &#x29;&#x29;,&#x27;N&#x27;&#x29; as eande_check,&#xd;&#xa;t.inbound_ncpdp_msg_id inbound_ncpdp_msg_id,&#xd;&#xa;&#x28;nvl&#x28;extractValue&#x28;xmltype&#x28;nvl&#x28;t.patient_match_details,&#x27;&#x3c;mvi&#x2f;&#x3e;&#x27;&#x29;&#x29;, &#x27;&#x2f;&#x2f;mvi&#x2f;runCount&#x27;&#x29;,0&#x29; &#x2b; 1&#x29; runCountMVI,&#xd;&#xa;&#x28;nvl&#x28;extractValue&#x28;xmltype&#x28;nvl&#x28;t.patient_match_details,&#x27;&#x3c;eande&#x2f;&#x3e;&#x27;&#x29;&#x29;, &#x27;&#x2f;&#x2f;eande&#x2f;runCount&#x27;&#x29;,0&#x29; &#x2b; 1&#x29; runCountEE,&#xd;&#xa;nvl&#x28;&#x28;select value from app_configuration where key &#x3d; &#x27;MVI_EE_RETRY&#x27;&#x29;,0&#x29; as retry&#xd;&#xa;from erx.inbound_ncpdp_msg t, xmltable&#x28;xmlnamespaces&#x28;&#x27;http&#x3a;&#x2f;&#x2f;www.ncpdp.org&#x2f;schema&#x2f;SCRIPT&#x27; as &#x22;ns&#x22;&#x29;, &#x27;&#x2f;ns&#x3a;Message&#x27;&#xd;&#xa;    passing t.message&#xd;&#xa;    columns &#xd;&#xa;    patient_last_name varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Name&#x2f;ns&#x3a;LastName&#x27;,&#xd;&#xa;    patient_middle_name varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Name&#x2f;ns&#x3a;MiddleName&#x27;,&#xd;&#xa;    patient_first_name varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Name&#x2f;ns&#x3a;FirstName&#x27;,&#xd;&#xa;    patient_gender varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Gender&#x27;,&#xd;&#xa;    date_of_birth varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;DateOfBirth&#x2f;ns&#x3a;Date&#x27;,&#xd;&#xa;    address_line_1 varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Address&#x2f;ns&#x3a;AddressLine1&#x27;,&#xd;&#xa;    address_line_2 varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Address&#x2f;ns&#x3a;AddressLine2&#x27;,&#xd;&#xa;    city varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Address&#x2f;ns&#x3a;City&#x27;,&#xd;&#xa;    state varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Address&#x2f;ns&#x3a;State&#x27;,&#xd;&#xa;    zipcode varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Address&#x2f;ns&#x3a;ZipCode&#x27;,&#xd;&#xa;    ssn varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;Identification&#x2f;ns&#x3a;SocialSecurity&#x27;,&#xd;&#xa;    --phone_number varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Patient&#x2f;ns&#x3a;CommunicationNumbers&#x2f;ns&#x3a;Communication&#x5b;1&#x5d;&#x2f;ns&#x3a;Number&#x27;,&#xd;&#xa;    pharmacy_ncpdpid1 varchar2&#x28;30&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Pharmacy&#x2f;ns&#x3a;Identification&#x2f;ns&#x3a;NCPDPID&#x27;,&#xd;&#xa;    pharmacy_ncpdpid2 varchar2&#x28;30&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Header&#x2f;ns&#x3a;To&#x27;&#x29; patient_info,&#xd;&#xa;    &#x28;select patient_com.patient_number patient_number,&#xd;&#xa;    patient_com.patient_qualifier patient_qualifier,&#xd;&#xa;    t.inbound_ncpdp_msg_id inbound_ncpdp_msg_id&#xd;&#xa;    from erx.inbound_ncpdp_msg t, xmltable&#x28;xmlnamespaces&#x28;&#x27;http&#x3a;&#x2f;&#x2f;www.ncpdp.org&#x2f;schema&#x2f;SCRIPT&#x27; as &#x22;ns&#x22;&#x29;, &#x27;&#x2f;ns&#x3a;Message&#x27;&#xd;&#xa;    passing t.message&#xd;&#xa;    columns records XMLTYPE PATH &#x27;&#x2f;&#x2f;ns&#x3a;CommunicationNumbers&#x27;&#x29; r,&#xd;&#xa;    xmltable&#x28;xmlnamespaces&#x28;&#x27;http&#x3a;&#x2f;&#x2f;www.ncpdp.org&#x2f;schema&#x2f;SCRIPT&#x27; as &#x22;ns&#x22;&#x29;,&#x27;&#x2f;&#x2f;ns&#x3a;Communication&#x27;&#xd;&#xa;    passing r.records&#xd;&#xa;    columns&#xd;&#xa;    patient_number varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Number&#x27;,&#xd;&#xa;    patient_qualifier varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Qualifier&#x27;&#x29; patient_com&#xd;&#xa;    where patient_com.patient_qualifier &#x3d; &#x27;HP&#x27;&#x29; patient_phone&#xd;&#xa;    where t.inbound_ncpdp_msg_id &#x3d; patient_phone.inbound_ncpdp_msg_id &#x28;&#x2b;&#x29;&#xd;&#xa;    and t.inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#xd;&#xa;&#xd;&#xa;-- 7778379 &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;</sql>
    <limit>1</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>80</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Do EandE check&#x3f;</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>IBMP_EandE_PatientCheck_TRN</send_true_to>
<send_false_to>EandE Check Skipped</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>EANDE_CHECK</leftvalue>
 <function>&#x3d;</function>
 <rightvalue/>
 <value><name>constant</name><type>String</type><text>Y</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value> </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1312</xloc>
      <yloc>80</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>EandE Check Skipped</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0108&#x27;,&#xd;&#xa;patient_match_details &#x3d;&#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#xd;&#xa;&#x3c;mvi&#x3e;&#xd;&#xa;&#x3c;patientICN&#x3e;&#x3f;&#x3c;&#x2f;patientICN&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;&#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;patientFirstName&#x3e;&#x3f;&#x3c;&#x2f;patientFirstName&#x3e;&#xd;&#xa;&#x3c;patientMiddleName&#x3e;&#x3f;&#x3c;&#x2f;patientMiddleName&#x3e;&#xd;&#xa;&#x3c;patientLastName&#x3e;&#x3f;&#x3c;&#x2f;patientLastName&#x3e;&#xd;&#xa;&#x3c;patientSSN&#x3e;&#x3f;&#x3c;&#x2f;patientSSN&#x3e;&#xd;&#xa;&#x3c;patientDateOfBirth&#x3e;&#x3f;&#x3c;&#x2f;patientDateOfBirth&#x3e;&#xd;&#xa;&#x3c;patientStationIds&#x3e;&#x3f;&#x3c;&#x2f;patientStationIds&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;mvi&#x3e;&#xd;&#xa;&#x3c;siteMatch&#x3e;true&#x3c;&#x2f;siteMatch&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>patientICN</name></argument>
       <argument><name>errorMessage</name></argument>
       <argument><name>patientFirstName</name></argument>
       <argument><name>patientMiddleName</name></argument>
       <argument><name>patientLastName</name></argument>
       <argument><name>patientSocSecNum</name></argument>
       <argument><name>patientDateOfBirth</name></argument>
       <argument><name>patientStationIds</name></argument>
       <argument><name>RUNCOUNTMVI</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1488</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>IBMP_EandE_PatientCheck_TRN</name>
    <type>TransExecutor</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <specification_method>rep_ref</specification_method>
    <trans_object_id>9</trans_object_id>
    <trans_name>IBMP_EandE_PatientCheck_TRN</trans_name>
    <filename/>
    <directory_path>&#x2f;inbound_main</directory_path>
    <group_size>1</group_size>
    <group_field/>
    <group_time/>
          <parameters>       <variablemapping><variable>INBOUND_NCPDP_MSG_ID</variable><field>INBOUND_NCPDP_MSG_ID</field><input/></variablemapping>
       <variablemapping><variable>patientICN</variable><field>patientICN</field><input/></variablemapping>
       <variablemapping><variable>siteMatch</variable><field>siteMatch</field><input/></variablemapping>
       <variablemapping><variable>RUNCOUNTEE</variable><field>RUNCOUNTEE</field><input/></variablemapping>
       <variablemapping><variable>RETRY</variable><field>RETRY</field><input/></variablemapping>
    <inherit_all_vars>Y</inherit_all_vars>
    </parameters>
    <execution_result_target_step/>
    <execution_time_field>ExecutionTime</execution_time_field>
    <execution_result_field>ExecutionResult</execution_result_field>
    <execution_errors_field>ExecutionNrErrors</execution_errors_field>
    <execution_lines_read_field>ExecutionLinesRead</execution_lines_read_field>
    <execution_lines_written_field>ExecutionLinesWritten</execution_lines_written_field>
    <execution_lines_input_field>ExecutionLinesInput</execution_lines_input_field>
    <execution_lines_output_field>ExecutionLinesOutput</execution_lines_output_field>
    <execution_lines_rejected_field>ExecutionLinesRejected</execution_lines_rejected_field>
    <execution_lines_updated_field>ExecutionLinesUpdated</execution_lines_updated_field>
    <execution_lines_deleted_field>ExecutionLinesDeleted</execution_lines_deleted_field>
    <execution_files_retrieved_field>ExecutionFilesRetrieved</execution_files_retrieved_field>
    <execution_exit_status_field>ExecutionExitStatus</execution_exit_status_field>
    <execution_log_text_field>ExecutionLogText</execution_log_text_field>
    <execution_log_channelid_field>ExecutionLogChannelId</execution_log_channelid_field>
    <result_rows_target_step/>
    <result_files_target_step/>
    <result_files_file_name_field>FileName</result_files_file_name_field>
    <executors_output_step/>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1536</xloc>
      <yloc>80</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>JSON Input</name>
    <type>JsonInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <readurl>N</readurl>
    <removeSourceField>N</removeSourceField>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>N</doNotFailIfNoFile>
    <ignoreMissingPath>Y</ignoreMissingPath>
    <defaultPathLeafToNull>N</defaultPathLeafToNull>
    <rownum_field/>
    <file>
      <name/>
      <filemask/>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>patientICN</name>
        <path>patientICN</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>success</name>
        <path>success</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>errorMessage</name>
        <path>errorMessage</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>patientFirstName</name>
        <path>patientFirstName</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>patientMiddleName</name>
        <path>patientMiddleName</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>patientLastName</name>
        <path>patientLastName</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>patientSocSecNum</name>
        <path>patientSocSecNum</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>patientDateOfBirth</name>
        <path>patientDateOfBirth</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>patientStationIds</name>
        <path>patientStationIds</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <valueField>mvi_rest_result</valueField>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>368</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>MVI - Match Found - Site Registration Not Confirmed</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0106&#x27;,&#xd;&#xa;patient_match_details &#x3d;&#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#xd;&#xa;&#x3c;mvi&#x3e;&#xd;&#xa;&#x3c;patientICN&#x3e;&#x3f;&#x3c;&#x2f;patientICN&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;&#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;patientFirstName&#x3e;&#x3f;&#x3c;&#x2f;patientFirstName&#x3e;&#xd;&#xa;&#x3c;patientMiddleName&#x3e;&#x3f;&#x3c;&#x2f;patientMiddleName&#x3e;&#xd;&#xa;&#x3c;patientLastName&#x3e;&#x3f;&#x3c;&#x2f;patientLastName&#x3e;&#xd;&#xa;&#x3c;patientSSN&#x3e;&#x3f;&#x3c;&#x2f;patientSSN&#x3e;&#xd;&#xa;&#x3c;patientDateOfBirth&#x3e;&#x3f;&#x3c;&#x2f;patientDateOfBirth&#x3e;&#xd;&#xa;&#x3c;patientStationIds&#x3e;&#x3f;&#x3c;&#x2f;patientStationIds&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;mvi&#x3e;&#xd;&#xa;&#x3c;siteMatch&#x3e;&#x3f;&#x3c;&#x2f;siteMatch&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>patientICN</name></argument>
       <argument><name>errorMessage</name></argument>
       <argument><name>patientFirstName</name></argument>
       <argument><name>patientMiddleName</name></argument>
       <argument><name>patientLastName</name></argument>
       <argument><name>patientSocSecNum</name></argument>
       <argument><name>patientDateOfBirth</name></argument>
       <argument><name>patientStationIds</name></argument>
       <argument><name>RUNCOUNTMVI</name></argument>
       <argument><name>siteMatch</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1152</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>MVI Match Found</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0001&#x27;,&#xd;&#xa;patient_match_details &#x3d;&#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#xd;&#xa;&#x3c;mvi&#x3e;&#xd;&#xa;&#x3c;patientICN&#x3e;&#x3f;&#x3c;&#x2f;patientICN&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;&#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;patientFirstName&#x3e;&#x3f;&#x3c;&#x2f;patientFirstName&#x3e;&#xd;&#xa;&#x3c;patientMiddleName&#x3e;&#x3f;&#x3c;&#x2f;patientMiddleName&#x3e;&#xd;&#xa;&#x3c;patientLastName&#x3e;&#x3f;&#x3c;&#x2f;patientLastName&#x3e;&#xd;&#xa;&#x3c;patientSSN&#x3e;&#x3f;&#x3c;&#x2f;patientSSN&#x3e;&#xd;&#xa;&#x3c;patientDateOfBirth&#x3e;&#x3f;&#x3c;&#x2f;patientDateOfBirth&#x3e;&#xd;&#xa;&#x3c;patientStationIds&#x3e;&#x3f;&#x3c;&#x2f;patientStationIds&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;mvi&#x3e;&#xd;&#xa;&#x3c;siteMatch&#x3e;true&#x3c;&#x2f;siteMatch&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;&#xd;&#xa;&#xd;&#xa;&#xd;&#xa;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>patientICN</name></argument>
       <argument><name>errorMessage</name></argument>
       <argument><name>patientFirstName</name></argument>
       <argument><name>patientMiddleName</name></argument>
       <argument><name>patientLastName</name></argument>
       <argument><name>patientSocSecNum</name></argument>
       <argument><name>patientDateOfBirth</name></argument>
       <argument><name>patientStationIds</name></argument>
       <argument><name>RUNCOUNTMVI</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1136</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>MVI Match Not Found</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0002&#x27;,&#xd;&#xa;patient_match_details &#x3d;&#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#xd;&#xa;&#x3c;mvi&#x3e;&#xd;&#xa;&#x3c;patientICN&#x3e;&#x3f;&#x3c;&#x2f;patientICN&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;&#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;patientFirstName&#x3e;&#x3f;&#x3c;&#x2f;patientFirstName&#x3e;&#xd;&#xa;&#x3c;patientMiddleName&#x3e;&#x3f;&#x3c;&#x2f;patientMiddleName&#x3e;&#xd;&#xa;&#x3c;patientLastName&#x3e;&#x3f;&#x3c;&#x2f;patientLastName&#x3e;&#xd;&#xa;&#x3c;patientSSN&#x3e;&#x3f;&#x3c;&#x2f;patientSSN&#x3e;&#xd;&#xa;&#x3c;patientDateOfBirth&#x3e;&#x3f;&#x3c;&#x2f;patientDateOfBirth&#x3e;&#xd;&#xa;&#x3c;patientStationIds&#x3e;&#x3f;&#x3c;&#x2f;patientStationIds&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#xd;&#xa;&#x3c;&#x2f;mvi&#x3e;&#xd;&#xa;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#xd;&#xa;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;&#xd;&#xa;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>patientICN</name></argument>
       <argument><name>errorMessage</name></argument>
       <argument><name>patientFirstName</name></argument>
       <argument><name>patientMiddleName</name></argument>
       <argument><name>patientLastName</name></argument>
       <argument><name>patientSocSecNum</name></argument>
       <argument><name>patientDateOfBirth</name></argument>
       <argument><name>patientStationIds</name></argument>
       <argument><name>RUNCOUNTMVI</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>864</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>MVI REST Client</name>
    <type>Rest</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <applicationType>JSON</applicationType>
    <method>POST</method>
    <url>http&#x3a;&#x2f;&#x2f;graphical.weather.gov&#x2f;xml&#x2f;sample_products&#x2f;browser_interface&#x2f;ndfdXMLclient.php&#x3f;lat&#x3d;38.99&#x26;lon&#x3d;-77.01&#x26;product&#x3d;time-series&#x26;begin&#x3d;2016-08-11T00&#x3a;00&#x3a;00&#x26;end&#x3d;2016-08-11T00&#x3a;00&#x3a;00&#x26;maxt&#x3d;maxt&#x26;mint&#x3d;mint</url>
    <urlInField>Y</urlInField>
    <dynamicMethod>N</dynamicMethod>
    <methodFieldName/>
    <urlField>url</urlField>
    <bodyField>body</bodyField>
    <httpLogin>&#x24;&#x7b;WS_USERNAME&#x7d;</httpLogin>
    <httpPassword>&#x24;&#x7b;WS_PASSWORD&#x7d;</httpPassword>
    <proxyHost/>
    <proxyPort/>
    <preemptive>Y</preemptive>
    <trustStoreFile/>
    <trustStorePassword>Encrypted </trustStorePassword>
    <headers>
      </headers>
    <parameters>
      </parameters>
    <matrixParameters>
      </matrixParameters>
    <result>
      <name>mvi_rest_result</name>
      <code/>
      <response_time/>
      </result>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>224</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>MVI Service Call Failure - Allow Retry</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0004&#x27;,&#xd;&#xa;patient_match_details &#x3d;&#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#x3c;mvi&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;MVI_SERVICE_NOT_REACHABLE_AWAITING_RETRY&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#xd;&#xa;&#x3c;&#x2f;mvi&#x3e;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>RUNCOUNTMVI</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>256</xloc>
      <yloc>352</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>MVI Service Call Failure - RPC Not Reachable</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set patient_chk_status &#x3d; &#x27;0003&#x27;,&#xd;&#xa;patient_match_details &#x3d;&#xd;&#xa;&#x27;&#x3c;patientCheck&#x3e;&#x3c;mvi&#x3e;&#xd;&#xa;&#x3c;errorMessage&#x3e;MVI_RETRIES_EXCEEDED_SERVICE_NOT_REACHABLE&#x3c;&#x2f;errorMessage&#x3e;&#xd;&#xa;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#xd;&#xa;&#x3c;&#x2f;mvi&#x3e;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#x3c;&#x2f;patientCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>RUNCOUNTMVI</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>464</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Pharmacy Registration Check</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Set siteMatch 2</send_true_to>
<send_false_to>Set siteMatch</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>patientStationIds</leftvalue>
 <function>CONTAINS</function>
 <rightvalue>VA_STATION_ID</rightvalue>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>816</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Retry Check 2</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>MVI Service Call Failure - Allow Retry</send_true_to>
<send_false_to>MVI Service Call Failure - RPC Not Reachable</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>RUNCOUNTMVI</leftvalue>
 <function>&#x3c;</function>
 <rightvalue>RETRY</rightvalue>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>368</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set siteMatch</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>siteMatch</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>false</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>912</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set siteMatch 2</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>siteMatch</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>true</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>976</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Switch &#x2f; Case</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>success</fieldname>
<use_contains>N</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Switch &#x2f; Case Error Type</default_target_step>
<cases><case><value>true</value>
<target_step>Pharmacy Registration Check</target_step>
</case><case><value>false</value>
<target_step>Switch &#x2f; Case Error Type</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>704</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Switch &#x2f; Case Error Type</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>errorMessage</fieldname>
<use_contains>Y</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>MVI Match Not Found</default_target_step>
<cases><case><value>Could not send Message</value>
<target_step>Retry Check 2</target_step>
</case><case><value>No Record Found</value>
<target_step>MVI Match Not Found</target_step>
</case><case><value>Error</value>
<target_step>Retry Check 2</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>704</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Write to log</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <loglevel>log_level_detailed</loglevel>
      <displayHeader>Y</displayHeader>
      <limitRows>N</limitRows>
      <limitRowsNumber>0</limitRowsNumber>
      <logmessage/>
    <fields>
      <field>
        <name>URL</name>
        </field>
      <field>
        <name>INBOUND_NCPDP_MSG_ID</name>
        </field>
      <field>
        <name>VA_STATION_ID</name>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>80</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Write to log 2</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <loglevel>log_level_basic</loglevel>
      <displayHeader>Y</displayHeader>
      <limitRows>N</limitRows>
      <limitRowsNumber>0</limitRowsNumber>
      <logmessage/>
    <fields>
      <field>
        <name>INBOUND_NCPDP_MSG_ID</name>
        </field>
      <field>
        <name>patientICN</name>
        </field>
      <field>
        <name>success</name>
        </field>
      <field>
        <name>errorMessage</name>
        </field>
      <field>
        <name>VA_STATION_ID</name>
        </field>
      <field>
        <name>RUNCOUNTMVI</name>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>240</xloc>
      <yloc>192</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>remove special chars from names</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>patientFirstName</in_stream_name>
        <out_stream_name/>
        <use_regex>yes</use_regex>
        <replace_string>&#x5c;p&#x7b;Punct&#x7d;</replace_string>
        <replace_by_string> </replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>patientLastName</in_stream_name>
        <out_stream_name/>
        <use_regex>yes</use_regex>
        <replace_string>&#x5c;p&#x7b;Punct&#x7d;</replace_string>
        <replace_by_string> </replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>patientMiddleName</in_stream_name>
        <out_stream_name/>
        <use_regex>yes</use_regex>
        <replace_string>&#x5c;p&#x7b;Punct&#x7d;</replace_string>
        <replace_by_string> </replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>528</xloc>
      <yloc>96</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
      <error>
        <source_step>JSON Input</source_step>
        <target_step>Retry Check 2</target_step>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
      <error>
        <source_step>MVI REST Client</source_step>
        <target_step>MVI Match Not Found</target_step>
        <is_enabled>N</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>IBMP_ProcessERx_Retry_TRN</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;inbound_main</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;08&#x2f;16 10&#x3a;21&#x3a;52.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;05&#x2f;04 15&#x3a;55&#x3a;28.000</modified_date>
    <key_for_session_key/>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Inbound eRx Messages to Process</from><to>Update Message Prepare for Auto Checks</to><enabled>Y</enabled> </hop>
  <hop> <from>Inbound eRx Messages to Process</from><to>Copy rows to result</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Copy rows to result</name>
    <type>RowsToResult</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>432</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Inbound eRx Messages to Process</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <sql>select t.inbound_ncpdp_msg_id,&#xd;&#xa;t.drug_chk_status drug_chk_status,&#xd;&#xa;t.provider_chk_status provider_chk_status,&#xd;&#xa;t.patient_chk_status patient_chk_status,&#xd;&#xa;nvl&#x28;&#x28;select trim&#x28;va_station_id&#x29; from pharmacy where t.pharmacy_id &#x3d; pharmacy_id&#x29;,0&#x29; pharmacy_division,&#xd;&#xa;&#x27;3009&#x27; MESSAGE_STATUS_NEW&#xd;&#xa;from erx.inbound_ncpdp_msg t&#xd;&#xa;    where &#xd;&#xa;    t.message_status &#x3d; &#x27;3001&#x27;&#xd;&#xa;    and t.message is not null&#xd;&#xa;    and &#x28;t.drug_chk_status &#x3d; &#x27;1004&#x27;&#xd;&#xa;    or t.provider_chk_status &#x3d; &#x27;2004&#x27;&#xd;&#xa;    or t.patient_chk_status in &#x28;&#x27;0004&#x27;,&#x27;0107&#x27;&#x29;&#x29;</sql>
    <limit>&#x24;&#x7b;JOB_BATCH_SIZE&#x7d;</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>N</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>112</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update Message Prepare for Auto Checks</name>
    <type>Update</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>INBOUND_NCPDP_MSG</table>
      <key>
        <name>INBOUND_NCPDP_MSG_ID</name>
        <field>INBOUND_NCPDP_MSG_ID</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>MESSAGE_STATUS</name>
        <rename>MESSAGE_STATUS_NEW</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>432</xloc>
      <yloc>48</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>IBMP_ProcessERx_TRN</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;inbound_main</directory>
    <parameters>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;08&#x2f;16 10&#x3a;21&#x3a;52.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2018&#x2f;06&#x2f;01 17&#x3a;45&#x3a;44.000</modified_date>
    <key_for_session_key/>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Inject Values into NCPDP Error Message Template</from><to>Insert to OUTBOUND_NCPDP_MSG</to><enabled>Y</enabled> </hop>
  <hop> <from>Get Date_Time</from><to>Format Date-Time</to><enabled>Y</enabled> </hop>
  <hop> <from>Format Date-Time</from><to>Generate random value for Message ID</to><enabled>Y</enabled> </hop>
  <hop> <from>Set MESSAGE_TYPE to ERROR</from><to>Set Error Codes and Desc - XSD validation failure</to><enabled>Y</enabled> </hop>
  <hop> <from>Set MESSAGE_TYPE to ERROR 2 2</from><to>Set Error Codes and Desc - Pharmacy Disabled</to><enabled>Y</enabled> </hop>
  <hop> <from>Set MESSAGE_TYPE to ERROR 2</from><to>Set Error Codes and Desc - Pharmacy Not Found</to><enabled>Y</enabled> </hop>
  <hop> <from>Update Message Prepare for Auto Checks</from><to>Copy rows to result</to><enabled>Y</enabled> </hop>
  <hop> <from>Set Error Codes and Desc - Pharmacy Not Found</from><to>Get Date_Time</to><enabled>Y</enabled> </hop>
  <hop> <from>Set Error Codes and Desc - Pharmacy Disabled</from><to>Get Date_Time</to><enabled>Y</enabled> </hop>
  <hop> <from>Inbound eRx Messages to Process</from><to>Strip Unicode nulls from XML</to><enabled>Y</enabled> </hop>
  <hop> <from>Set MESSAGE to NCPDP Error Template</from><to>Inject Values into NCPDP Error Message Template</to><enabled>Y</enabled> </hop>
  <hop> <from>Strip Unicode nulls from XML</from><to>XSD Validator</to><enabled>Y</enabled> </hop>
  <hop> <from>XSD Validator</from><to>XML Valid&#x3f;</to><enabled>Y</enabled> </hop>
  <hop> <from>XML Valid&#x3f;</from><to>Update Message XSD Validation Failed</to><enabled>Y</enabled> </hop>
  <hop> <from>Set Error Codes and Desc - XSD validation failure</from><to>Get Date_Time</to><enabled>Y</enabled> </hop>
  <hop> <from>Update Message XSD Validation Failed</from><to>Check for Status, Verify, Error</to><enabled>Y</enabled> </hop>
  <hop> <from>Check for Status, Verify, Error</from><to>Set MESSAGE_TYPE to ERROR</to><enabled>Y</enabled> </hop>
  <hop> <from>Check for Status, Verify, Error</from><to>No Error on Error, Status, Verify 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Update Message Pharmacy Validation Failed</from><to>Check for Status, Verify, Error 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Check for Status, Verify, Error 2</from><to>Set MESSAGE_TYPE to ERROR 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Check for Status, Verify, Error 2</from><to>No Error on Error, Status, Verify</to><enabled>Y</enabled> </hop>
  <hop> <from>Generate random value for Message ID</from><to>ABS</to><enabled>Y</enabled> </hop>
  <hop> <from>ABS</from><to>Concat Date-Time and Random Value for New Message ID</to><enabled>Y</enabled> </hop>
  <hop> <from>Update Message Pharmacy Not Enabled</from><to>Set MESSAGE_TYPE to ERROR 2 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Pharmacy enabled&#x3f;</from><to>Update Message Pharmacy Not Enabled</to><enabled>Y</enabled> </hop>
  <hop> <from>Pharmacy enabled&#x3f;</from><to>Update Message Prepare for Auto Checks</to><enabled>Y</enabled> </hop>
  <hop> <from>Message 365 days or older&#x3f;</from><to>Update Message Date Validation Failed</to><enabled>Y</enabled> </hop>
  <hop> <from>Update Message Date Validation Failed</from><to>Set MESSAGE_TYPE to ERROR 3</to><enabled>Y</enabled> </hop>
  <hop> <from>Set MESSAGE_TYPE to ERROR 3</from><to>Set Error Codes and Desc - Message Written Date too old</to><enabled>Y</enabled> </hop>
  <hop> <from>Set Error Codes and Desc - Message Written Date too old</from><to>Get Date_Time</to><enabled>Y</enabled> </hop>
  <hop> <from>Pharmacy exist or va_station_id null&#x3f;</from><to>Check for NewRx</to><enabled>Y</enabled> </hop>
  <hop> <from>Check for NewRx</from><to>Message 365 days or older&#x3f;</to><enabled>Y</enabled> </hop>
  <hop> <from>Message 365 days or older&#x3f;</from><to>Pharmacy enabled&#x3f;</to><enabled>Y</enabled> </hop>
  <hop> <from>XSD Validator</from><to>Write to log</to><enabled>Y</enabled> </hop>
  <hop> <from>Original NewRx found</from><to>Set Msg Status Dtls</to><enabled>Y</enabled> </hop>
  <hop> <from>Original NewRx found</from><to>Set Msg Status Dtls 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Check for NewRx</from><to>CancelRx Check</to><enabled>Y</enabled> </hop>
  <hop> <from>Update Message No Auto Checks 2</from><to>No Auto Checks</to><enabled>Y</enabled> </hop>
  <hop> <from>Set Msg Status Dtls 2</from><to>Concat Message Details</to><enabled>Y</enabled> </hop>
  <hop> <from>XML Valid&#x3f;</from><to>Pharmacy exist or va_station_id null&#x3f;</to><enabled>Y</enabled> </hop>
  <hop> <from>CancelRx Check</from><to>Original NewRx found</to><enabled>Y</enabled> </hop>
  <hop> <from>Set Msg Status Dtls 2 2</from><to>Concat Message Details 2</to><enabled>Y</enabled> </hop>
  <hop> <from>CancelRx Check</from><to>Set Msg Status Dtls 2 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Concat Message Details 2</from><to>Update Message No Auto Checks 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Pharmacy exist or va_station_id null&#x3f;</from><to>Update Message Pharmacy Validation Failed</to><enabled>Y</enabled> </hop>
  <hop> <from>Format Date-Time</from><to>Write to log 2 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Concat Message Details</from><to>Update Message No Auto Checks 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Set Msg Status Dtls</from><to>Update Message No Auto Checks 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Concat Date-Time and Random Value for New Message ID</from><to>Set MESSAGE to NCPDP Error Template</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>ABS</name>
    <type>Calculator</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
       <calculation><field_name>MESSAGE_ID3</field_name>
<calc_type>ABS</calc_type>
<field_a>MESSAGE_ID_NEW</field_a>
<field_b/>
<field_c/>
<value_type>Integer</value_type>
<value_length>-1</value_length>
<value_precision>-1</value_precision>
<remove>N</remove>
<conversion_mask>0</conversion_mask>
<decimal_symbol>.</decimal_symbol>
<grouping_symbol>,</grouping_symbol>
<currency_symbol/>
</calculation>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2048</xloc>
      <yloc>576</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>CancelRx Check</name>
    <type>FilterRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Original NewRx found</send_true_to>
<send_false_to>Set Msg Status Dtls 2 2</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>MESSAGE_TYPE</leftvalue>
 <function>&#x3d;</function>
 <rightvalue/>
 <value><name>constant</name><type>String</type><text>CancelRx</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value> </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>864</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Check for NewRx</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>MESSAGE_TYPE</fieldname>
<use_contains>Y</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>CancelRx Check</default_target_step>
<cases><case><value>NewRx</value>
<target_step>Message 365 days or older&#x3f;</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>752</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Check for Status, Verify, Error</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>MESSAGE_TYPE</fieldname>
<use_contains>Y</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Set MESSAGE_TYPE to ERROR</default_target_step>
<cases><case><value>Error</value>
<target_step>No Error on Error, Status, Verify 2</target_step>
</case><case><value>Status</value>
<target_step>No Error on Error, Status, Verify 2</target_step>
</case><case><value>Verify</value>
<target_step>No Error on Error, Status, Verify 2</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>400</xloc>
      <yloc>288</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Check for Status, Verify, Error 2</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>MESSAGE_TYPE</fieldname>
<use_contains>Y</use_contains>
<case_value_type>String</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Set MESSAGE_TYPE to ERROR 2</default_target_step>
<cases><case><value>Error</value>
<target_step>No Error on Error, Status, Verify</target_step>
</case><case><value>Status</value>
<target_step>No Error on Error, Status, Verify</target_step>
</case><case><value>Verify</value>
<target_step>No Error on Error, Status, Verify</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>608</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Concat Date-Time and Random Value for New Message ID</name>
    <type>ConcatFields</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <separator>.0</separator>
    <enclosure/>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>N</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>file</name>
      <is_command>N</is_command>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>txt</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>Y</pad>
      <fast_dump>N</fast_dump>
      <splitevery>0</splitevery>
    </file>
    <fields>
      <field>
        <name>MESSAGE_ID_DATETIME</name>
        <type>None</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>MESSAGE_ID3</name>
        <type>None</type>
        <format>0000000000</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
    <ConcatFields>
<targetFieldName>MESSAGE_ID_NEW_1</targetFieldName>
<targetFieldLength>35</targetFieldLength>
<removeSelectedFields>N</removeSelectedFields>
    </ConcatFields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2048</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Concat Message Details</name>
    <type>ConcatFields</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <separator/>
    <enclosure/>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>N</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>file</name>
      <is_command>N</is_command>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>txt</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>Y</pad>
      <fast_dump>N</fast_dump>
      <splitevery>0</splitevery>
    </file>
    <fields>
      <field>
        <name>MESSAGE_STATUS_DETAIL</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>REL_TO_INBOUND_NCPDP_MSG_ID</name>
        <type>Number</type>
        <format>0</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>MESSAGE_STATUS_DETAIL2</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
    <ConcatFields>
<targetFieldName>MESSAGE_STATUS_DETAIL</targetFieldName>
<targetFieldLength>0</targetFieldLength>
<removeSelectedFields>N</removeSelectedFields>
    </ConcatFields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1328</xloc>
      <yloc>208</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Concat Message Details 2</name>
    <type>ConcatFields</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <separator/>
    <enclosure/>
    <enclosure_forced>N</enclosure_forced>
    <enclosure_fix_disabled>N</enclosure_fix_disabled>
    <header>N</header>
    <footer>N</footer>
    <format>DOS</format>
    <compression>None</compression>
    <encoding/>
    <endedLine/>
    <fileNameInField>N</fileNameInField>
    <fileNameField/>
    <create_parent_folder>Y</create_parent_folder>
    <file>
      <name>file</name>
      <is_command>N</is_command>
      <servlet_output>N</servlet_output>
      <do_not_open_new_file_init>N</do_not_open_new_file_init>
      <extention>txt</extention>
      <append>N</append>
      <split>N</split>
      <haspartno>N</haspartno>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <SpecifyFormat>N</SpecifyFormat>
      <date_time_format/>
      <add_to_result_filenames>Y</add_to_result_filenames>
      <pad>Y</pad>
      <fast_dump>N</fast_dump>
      <splitevery>0</splitevery>
    </file>
    <fields>
      <field>
        <name>MESSAGE_STATUS_DETAIL</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>REL_TO_OUTBOUND_NCPDP_MSG_ID</name>
        <type>Number</type>
        <format>0</format>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
      <field>
        <name>MESSAGE_STATUS_DETAIL2</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif/>
        <trim_type>none</trim_type>
        <length>-1</length>
        <precision>-1</precision>
      </field>
    </fields>
    <ConcatFields>
<targetFieldName>MESSAGE_STATUS_DETAIL</targetFieldName>
<targetFieldLength>0</targetFieldLength>
<removeSelectedFields>N</removeSelectedFields>
    </ConcatFields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1088</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Copy rows to result</name>
    <type>RowsToResult</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2176</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Format Date-Time</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <compatible>N</compatible>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>      <jsScript>        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>&#xd;&#xa;var d &#x3d; new Date&#x28;&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;var output &#x3d; date2str&#x28;TODAY_DATE_TIME, &#x22;MMddyyyy.HH.mm.sss&#x22;&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;var output2 &#x3d; d.toISOString&#x28;&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;var pon_encoded &#x3d; replace&#x28;PON,&#x22;&#x5b;&#x5c;&#x5c;&#x24;&#x5c;&#x5c;,&#x5c;&#x5c;&#x5c;&#x27;,&#x5c;&#x5c;&#x5c;&#x22;,&#x5c;&#x5c;&#x26;,&#x5c;&#x5c;&#x3c;,&#x5c;&#x5c;&#x3e;&#x5d;&#x22;,&#x22;_&#x22;&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;var message_id_encoded &#x3d; replace&#x28;MESSAGE_ID,&#x22;&#x5b;&#x5c;&#x5c;&#x24;&#x5c;&#x5c;,&#x5c;&#x5c;&#x5c;&#x27;,&#x5c;&#x5c;&#x5c;&#x22;,&#x5c;&#x5c;&#x26;,&#x5c;&#x5c;&#x3c;,&#x5c;&#x5c;&#x3e;&#x5d;&#x22;,&#x22;_&#x22;&#x29;&#x3b;&#xd;&#xa;&#xd;&#xa;</jsScript_script>
      </jsScript>    </jsScripts>    <fields>      <field>        <name>output</name>
        <rename>MESSAGE_ID_DATETIME</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>output2</name>
        <rename>MESSAGE_SENT_DATETIME</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>pon_encoded</name>
        <rename>pon_encoded</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>      <field>        <name>message_id_encoded</name>
        <rename>message_id_encoded</rename>
        <type>String</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>    </fields>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1520</xloc>
      <yloc>576</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Generate random value for Message ID</name>
    <type>RandomValue</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>MESSAGE_ID_NEW</name>
        <type>random integer</type>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1728</xloc>
      <yloc>576</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Get Date_Time</name>
    <type>SystemInfo</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>TODAY_DATE_TIME</name>
        <type>system date &#x28;variable&#x29;</type>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1520</xloc>
      <yloc>448</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Inbound eRx Messages to Process</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <sql>select&#xd;&#xa;x.message_id, t.inbound_ncpdp_msg_id, x.rel_to_message_id,&#xd;&#xa;&#x28;select inbound_ncpdp_msg_id from inbound_ncpdp_msg inb where inb.message_from &#x3d; x.clinic_id and inb.message_id &#x3d; x.rel_to_message_id and inb.pharmacy_id &#x3d; nvl&#x28;&#x28;select pharmacy_id from pharmacy where ncpdp_id &#x3d; &#xd;&#xa;nvl&#x28;x.pharmacy_ncpdpid1,x.pharmacy_ncpdpid2&#x29;&#x29;,0&#x29; and x.message_type not in &#x28;&#x27;NewRx&#x27;&#x29; and inb.received_date &#x3e;  sysdate - 365 and rownum &#x3c; 2&#x29; rel_to_inbound_ncpdp_msg_id,&#xd;&#xa;&#x28;select outbound_ncpdp_msg_id from outbound_ncpdp_msg out where out.message_id &#x3d; x.rel_to_message_id and x.message_type not in &#x28;&#x27;CancelRx&#x27;&#x29; and out.received_date &#x3e; sysdate - 365 and rownum &#x3c; 2&#x29; rel_to_outbound_ncpdp_msg_id,&#xd;&#xa;x.message_type,&#xd;&#xa;xmlroot &#x28;t.message,version &#x27;1.0&#x27;, standalone NO&#x29;.getClobVal&#x28;&#x29; message,&#xd;&#xa;nvl&#x28;&#x28;select pharmacy_id from pharmacy where ncpdp_id &#x3d; &#xd;&#xa;nvl&#x28;x.pharmacy_ncpdpid1,x.pharmacy_ncpdpid2&#x29;&#x29;,0&#x29; pharmacy_id,&#xd;&#xa;nvl&#x28;&#x28;select substr&#x28;va_station_id,1,3&#x29; from pharmacy where ncpdp_id &#x3d; &#xd;&#xa;nvl&#x28;x.pharmacy_ncpdpid1,x.pharmacy_ncpdpid2&#x29;&#x29;,0&#x29; pharmacy_division,&#xd;&#xa;nvl&#x28;&#x28;select inbound_erx_enabled from pharmacy where ncpdp_id &#x3d;&#xd;&#xa;nvl&#x28;x.pharmacy_ncpdpid1,x.pharmacy_ncpdpid2&#x29;&#x29;,-1&#x29; pharmacy_enabled,&#xd;&#xa;nvl&#x28;x.npi1,&#x27;0000000000&#x27;&#x29; provider_npi,&#xd;&#xa;x.clinic_id clinic_id,&#xd;&#xa;nvl&#x28;x.pharmacy_ncpdpid1,x.pharmacy_ncpdpid2&#x29; pharmacy_ncpdpid,&#xd;&#xa;&#x27;3001&#x27; message_status_ready_to_send, &#xd;&#xa;&#x27;3009&#x27; message_status_new,&#xd;&#xa;&#x27;3006&#x27; message_status_xml_invalid,&#xd;&#xa;&#x27;3010&#x27; message_stat_pharm_not_enbld,&#xd;&#xa;&#x27;3011&#x27; message_stat_pharm_unknown,&#xd;&#xa;&#x27;&#x24;&#x7b;NCPDP_XSD&#x7d;&#x27; ncpdp_xsd_path,&#xd;&#xa;to_date&#x28;decode&#x28;substr&#x28;x.written_date,0,INSTR&#x28;x.written_date,&#x27;T&#x27;&#x29;-1&#x29;,null,x.written_date,substr&#x28;x.written_date,0,INSTR&#x28;x.written_date,&#x27;T&#x27;&#x29;-1&#x29;&#x29;,&#x27;YYYY-MM-DD&#x27;&#x29; &#x2b; 365 written_date_test,&#xd;&#xa;sysdate receive_date,&#xd;&#xa;x.rx_ref_num rx_ref_num,&#xd;&#xa;x.pon pon&#xd;&#xa;from inbound_ncpdp_msg t, xmltable&#x28;xmlnamespaces&#x28;&#x27;http&#x3a;&#x2f;&#x2f;www.ncpdp.org&#x2f;schema&#x2f;SCRIPT&#x27; as &#x22;ns&#x22;&#x29;, &#x27;&#x2f;ns&#x3a;Message&#x27;&#xd;&#xa;    passing t.message&#xd;&#xa;    columns &#xd;&#xa;    rx_ref_num varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Header&#x2f;ns&#x3a;RxReferenceNumber&#x27;,&#xd;&#xa;    pon varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Header&#x2f;ns&#x3a;PrescriberOrderNumber&#x27;,&#xd;&#xa;    message_id varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Header&#x2f;ns&#x3a;MessageID&#x27;,&#xd;&#xa;    rel_to_message_id varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Header&#x2f;ns&#x3a;RelatesToMessageID&#x27;,&#xd;&#xa;    message_type varchar2&#x28;35&#x29; path &#x27;name&#x28;&#x2f;ns&#x3a;Body&#x2f;&#x2a;&#x5b;1&#x5d;&#x29;&#x27;,&#xd;&#xa;    pharmacy_ncpdpid1 varchar2&#x28;30&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Pharmacy&#x2f;ns&#x3a;Identification&#x2f;ns&#x3a;NCPDPID&#x27;,&#xd;&#xa;    pharmacy_ncpdpid2 varchar2&#x28;30&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Header&#x2f;ns&#x3a;To&#x27;,&#xd;&#xa;	  npi1 varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Prescriber&#x2f;ns&#x3a;Identification&#x2f;ns&#x3a;NPI&#x27;,&#xd;&#xa;    clinic_id varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Header&#x2f;ns&#x3a;From&#x27;,&#xd;&#xa;	written_date varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;MedicationPrescribed&#x2f;ns&#x3a;WrittenDate&#x27;&#x29; x&#xd;&#xa;    where &#xd;&#xa;   t.message_status &#x3d; &#x27;0000&#x27;&#xd;&#xa;   and t.message is not null</sql>
    <limit>&#x24;&#x7b;JOB_BATCH_SIZE&#x7d;</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>96</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Inject Values into NCPDP Error Message Template</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_to&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>CLINIC_ID</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_from&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>PHARMACY_NCPDPID</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_message_id&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>MESSAGE_ID_NEW_1</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_relates_to_message_id&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>message_id_encoded</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_sent_time&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>MESSAGE_SENT_DATETIME</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_error_code&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>ERROR_CODE</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_description_code&#x7d;</replace_string>
        <replace_by_string>007</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x7b;set_description&#x7d;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string>ERROR_DESC</replace_field_by_string>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1392</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Insert to OUTBOUND_NCPDP_MSG</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>insert into outbound_ncpdp_msg &#x28;message_id,rel_to_message_id,  message, message_type, message_status, pharmacy_id, received_date&#x29;&#xd;&#xa;values &#x28;upper&#x28;&#x27;&#x3f;&#x27;&#x29;,&#x27;&#x3f;&#x27;,&#x27;&#x3f;&#x27;,&#x27;&#x3f;&#x27;,&#x27;0000&#x27;,&#x3f;,sysdate&#x29;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>MESSAGE_ID_NEW_1</name></argument>
       <argument><name>MESSAGE_ID</name></argument>
       <argument><name>MESSAGE</name></argument>
       <argument><name>MESSAGE_TYPE</name></argument>
       <argument><name>PHARMACY_ID</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1088</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Message 365 days or older&#x3f;</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Pharmacy enabled&#x3f;</send_true_to>
<send_false_to>Update Message Date Validation Failed</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <operator>OR</operator>
   <leftvalue>WRITTEN_DATE_TEST</leftvalue>
   <function>&#x3e;</function>
   <rightvalue>RECEIVE_DATE</rightvalue>
   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1536</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>No Auto Checks</name>
    <type>Dummy</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1552</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>No Error on Error, Status, Verify</name>
    <type>Dummy</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>656</xloc>
      <yloc>304</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>No Error on Error, Status, Verify 2</name>
    <type>Dummy</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>320</xloc>
      <yloc>384</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Original NewRx found</name>
    <type>SwitchCase</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<fieldname>REL_TO_INBOUND_NCPDP_MSG_ID</fieldname>
<use_contains>N</use_contains>
<case_value_type>Number</case_value_type>
<case_value_format/>
<case_value_decimal/>
<case_value_group/>
<default_target_step>Set Msg Status Dtls 2</default_target_step>
<cases><case><value/>
<target_step>Set Msg Status Dtls</target_step>
</case></cases>     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1040</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Pharmacy enabled&#x3f;</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Update Message Prepare for Auto Checks</send_true_to>
<send_false_to>Update Message Pharmacy Not Enabled</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>PHARMACY_ENABLED</leftvalue>
 <function>&#x3d;</function>
 <rightvalue/>
 <value><name>constant</name><type>String</type><text>1</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value> </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1744</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Pharmacy exist or va_station_id null&#x3f;</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Check for NewRx</send_true_to>
<send_false_to>Update Message Pharmacy Validation Failed</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <operator>OR</operator>
   <leftvalue>PHARMACY_ENABLED</leftvalue>
   <function>&#x3d;</function>
   <rightvalue/>
   <value><name>constant</name><type>Integer</type><text>0</text><length>-1</length><precision>0</precision><isnull>N</isnull><mask>&#x23;</mask></value>   </condition>
  <condition>
   <negated>N</negated>
   <operator>OR</operator>
   <leftvalue>PHARMACY_DIVISION</leftvalue>
   <function>&#x3c;&#x3e;</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>0</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>528</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set Error Codes and Desc - Message Written Date too old</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>ERROR_CODE</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>900</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>ERROR_DESC</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>Cannot process message over 365 days old.</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1792</xloc>
      <yloc>320</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set Error Codes and Desc - Pharmacy Disabled</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>ERROR_CODE</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>900</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>ERROR_DESC</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>Pharmacy not currently processing electronic prescriptions.</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2144</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set Error Codes and Desc - Pharmacy Not Found</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>ERROR_CODE</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>900</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>ERROR_DESC</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>Pharmacy Not Found on System.</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>832</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set Error Codes and Desc - XSD validation failure</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>ERROR_CODE</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>602</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>ERROR_DESC</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>Message corrupted.</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>592</xloc>
      <yloc>480</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set MESSAGE to NCPDP Error Template</name>
    <type>SetValueConstant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
   <usevar>N</usevar>
    <fields>
      <field>
        <name>MESSAGE</name>
        <value>&#x3c;&#x3f;xml version&#x3d;&#x22;1.0&#x22; encoding&#x3d;&#x22;UTF-8&#x22;&#x3f;&#x3e;&#x3c;Message version&#x3d;&#x22;010&#x22; release&#x3d;&#x22;006&#x22; xmlns&#x3d;&#x22;http&#x3a;&#x2f;&#x2f;www.ncpdp.org&#x2f;schema&#x2f;SCRIPT&#x22;&#x3e;&#x3c;Header&#x3e;&#x3c;To Qualifier&#x3d;&#x22;D&#x22;&#x3e;&#x7b;set_to&#x7d;&#x3c;&#x2f;To&#x3e;&#x3c;From Qualifier&#x3d;&#x22;P&#x22;&#x3e;&#x7b;set_from&#x7d;&#x3c;&#x2f;From&#x3e;&#x3c;MessageID&#x3e;&#x7b;set_message_id&#x7d;&#x3c;&#x2f;MessageID&#x3e;&#x3c;RelatesToMessageID&#x3e;&#x7b;set_relates_to_message_id&#x7d;&#x3c;&#x2f;RelatesToMessageID&#x3e;&#x3c;SentTime&#x3e;&#x7b;set_sent_time&#x7d;&#x3c;&#x2f;SentTime&#x3e;&#x3c;&#x2f;Header&#x3e;&#x3c;Body&#x3e;&#x3c;Error&#x3e;&#x3c;Code&#x3e;&#x7b;set_error_code&#x7d;&#x3c;&#x2f;Code&#x3e;&#x3c;DescriptionCode&#x3e;&#x7b;set_description_code&#x7d;&#x3c;&#x2f;DescriptionCode&#x3e;&#x3c;Description&#x3e;&#x7b;set_description&#x7d;&#x3c;&#x2f;Description&#x3e;&#x3c;&#x2f;Error&#x3e;&#x3c;&#x2f;Body&#x3e;&#x3c;&#x2f;Message&#x3e;</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1712</xloc>
      <yloc>672</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set MESSAGE_TYPE to ERROR</name>
    <type>SetValueConstant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
   <usevar>N</usevar>
    <fields>
      <field>
        <name>MESSAGE_TYPE</name>
        <value>Error</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>544</xloc>
      <yloc>384</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set MESSAGE_TYPE to ERROR 2</name>
    <type>SetValueConstant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
   <usevar>N</usevar>
    <fields>
      <field>
        <name>MESSAGE_TYPE</name>
        <value>Error</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>832</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set MESSAGE_TYPE to ERROR 2 2</name>
    <type>SetValueConstant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
   <usevar>N</usevar>
    <fields>
      <field>
        <name>MESSAGE_TYPE</name>
        <value>Error</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>2048</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set MESSAGE_TYPE to ERROR 3</name>
    <type>SetValueConstant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
   <usevar>N</usevar>
    <fields>
      <field>
        <name>MESSAGE_TYPE</name>
        <value>Error</value>
        <mask/>
        <set_empty_string>N</set_empty_string>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1744</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set Msg Status Dtls</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>MESSAGE_STATUS_DETAIL</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>&#x3c;messageStatusDetails&#x3e;&#x3c;cancelRxDenied&#x3e;1&#x3c;&#x2f;cancelRxDenied&#x3e;&#x3c;vistaSends&#x3e;0&#x3c;&#x2f;vistaSends&#x3e;&#x3c;&#x2f;messageStatusDetails&#x3e;</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1392</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set Msg Status Dtls 2</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>MESSAGE_STATUS_DETAIL</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>&#x3c;messageStatusDetails&#x3e;&#x3c;cancelRxDenied&#x3e;0&#x5e;</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>MESSAGE_STATUS_DETAIL2</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>&#x3c;&#x2f;cancelRxDenied&#x3e;&#x3c;vistaSends&#x3e;0&#x3c;&#x2f;vistaSends&#x3e;&#x3c;&#x2f;messageStatusDetails&#x3e;</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1264</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Set Msg Status Dtls 2 2</name>
    <type>Constant</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <name>MESSAGE_STATUS_DETAIL</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>&#x3c;messageStatusDetails&#x3e;&#x3c;relToOutboundNcpdpMsgId&#x3e;</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
      <field>
        <name>MESSAGE_STATUS_DETAIL2</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <nullif>&#x3c;&#x2f;relToOutboundNcpdpMsgId&#x3e;&#x3c;vistaSends&#x3e;0&#x3c;&#x2f;vistaSends&#x3e;&#x3c;&#x2f;messageStatusDetails&#x3e;</nullif>
        <length>-1</length>
        <precision>-1</precision>
        <set_empty_string>N</set_empty_string>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>864</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Strip Unicode nulls from XML</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>MESSAGE</in_stream_name>
        <out_stream_name/>
        <use_regex>yes</use_regex>
        <replace_string>&#x5b;&#x27;&#x5c;u0000&#x27;&#x5d;&#x2a;</replace_string>
        <replace_by_string/>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>96</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update Message Date Validation Failed</name>
    <type>Update</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>INBOUND_NCPDP_MSG</table>
      <key>
        <name>INBOUND_NCPDP_MSG_ID</name>
        <field>INBOUND_NCPDP_MSG_ID</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>MESSAGE_TYPE</name>
        <rename>MESSAGE_TYPE</rename>
        </value>
      <value>
        <name>MESSAGE_ID</name>
        <rename>MESSAGE_ID</rename>
        </value>
      <value>
        <name>REL_TO_MESSAGE_ID</name>
        <rename>REL_TO_MESSAGE_ID</rename>
        </value>
      <value>
        <name>PHARMACY_ID</name>
        <rename>PHARMACY_ID</rename>
        </value>
      <value>
        <name>MESSAGE_STATUS</name>
        <rename>MESSAGE_STATUS_XML_INVALID</rename>
        </value>
      <value>
        <name>MESSAGE_FROM</name>
        <rename>CLINIC_ID</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1696</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update Message No Auto Checks 2</name>
    <type>Update</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>INBOUND_NCPDP_MSG</table>
      <key>
        <name>INBOUND_NCPDP_MSG_ID</name>
        <field>INBOUND_NCPDP_MSG_ID</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>MESSAGE_TYPE</name>
        <rename>MESSAGE_TYPE</rename>
        </value>
      <value>
        <name>MESSAGE_ID</name>
        <rename>MESSAGE_ID</rename>
        </value>
      <value>
        <name>REL_TO_MESSAGE_ID</name>
        <rename>REL_TO_MESSAGE_ID</rename>
        </value>
      <value>
        <name>PHARMACY_ID</name>
        <rename>PHARMACY_ID</rename>
        </value>
      <value>
        <name>MESSAGE_STATUS</name>
        <rename>MESSAGE_STATUS_READY_TO_SEND</rename>
        </value>
      <value>
        <name>MESSAGE_FROM</name>
        <rename>CLINIC_ID</rename>
        </value>
      <value>
        <name>MESSAGE_STATUS_DETAILS</name>
        <rename>MESSAGE_STATUS_DETAIL</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1376</xloc>
      <yloc>336</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update Message Pharmacy Not Enabled</name>
    <type>Update</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>INBOUND_NCPDP_MSG</table>
      <key>
        <name>INBOUND_NCPDP_MSG_ID</name>
        <field>INBOUND_NCPDP_MSG_ID</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>MESSAGE_TYPE</name>
        <rename>MESSAGE_TYPE</rename>
        </value>
      <value>
        <name>MESSAGE_ID</name>
        <rename>MESSAGE_ID</rename>
        </value>
      <value>
        <name>REL_TO_MESSAGE_ID</name>
        <rename>REL_TO_MESSAGE_ID</rename>
        </value>
      <value>
        <name>PHARMACY_ID</name>
        <rename>PHARMACY_ID</rename>
        </value>
      <value>
        <name>MESSAGE_STATUS</name>
        <rename>MESSAGE_STAT_PHARM_NOT_ENBLD</rename>
        </value>
      <value>
        <name>MESSAGE_FROM</name>
        <rename>CLINIC_ID</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1984</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update Message Pharmacy Validation Failed</name>
    <type>Update</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>INBOUND_NCPDP_MSG</table>
      <key>
        <name>INBOUND_NCPDP_MSG_ID</name>
        <field>INBOUND_NCPDP_MSG_ID</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>MESSAGE_TYPE</name>
        <rename>MESSAGE_TYPE</rename>
        </value>
      <value>
        <name>MESSAGE_ID</name>
        <rename>MESSAGE_ID</rename>
        </value>
      <value>
        <name>REL_TO_MESSAGE_ID</name>
        <rename>REL_TO_MESSAGE_ID</rename>
        </value>
      <value>
        <name>PHARMACY_ID</name>
        <rename>PHARMACY_ID</rename>
        </value>
      <value>
        <name>MESSAGE_STATUS</name>
        <rename>MESSAGE_STAT_PHARM_UNKNOWN</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>608</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update Message Prepare for Auto Checks</name>
    <type>Update</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>INBOUND_NCPDP_MSG</table>
      <key>
        <name>INBOUND_NCPDP_MSG_ID</name>
        <field>INBOUND_NCPDP_MSG_ID</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>MESSAGE_TYPE</name>
        <rename>MESSAGE_TYPE</rename>
        </value>
      <value>
        <name>MESSAGE_ID</name>
        <rename>MESSAGE_ID</rename>
        </value>
      <value>
        <name>REL_TO_MESSAGE_ID</name>
        <rename>REL_TO_MESSAGE_ID</rename>
        </value>
      <value>
        <name>PHARMACY_ID</name>
        <rename>PHARMACY_ID</rename>
        </value>
      <value>
        <name>MESSAGE_STATUS</name>
        <rename>MESSAGE_STATUS_NEW</rename>
        </value>
      <value>
        <name>MESSAGE_FROM</name>
        <rename>CLINIC_ID</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1968</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update Message XSD Validation Failed</name>
    <type>Update</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <skip_lookup>N</skip_lookup>
    <commit>100</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>INBOUND_NCPDP_MSG</table>
      <key>
        <name>INBOUND_NCPDP_MSG_ID</name>
        <field>INBOUND_NCPDP_MSG_ID</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>MESSAGE_TYPE</name>
        <rename>MESSAGE_TYPE</rename>
        </value>
      <value>
        <name>MESSAGE_ID</name>
        <rename>MESSAGE_ID</rename>
        </value>
      <value>
        <name>REL_TO_MESSAGE_ID</name>
        <rename>REL_TO_MESSAGE_ID</rename>
        </value>
      <value>
        <name>PHARMACY_ID</name>
        <rename>PHARMACY_ID</rename>
        </value>
      <value>
        <name>MESSAGE_STATUS</name>
        <rename>MESSAGE_STATUS_XML_INVALID</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>400</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Write to log</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <loglevel>log_level_basic</loglevel>
      <displayHeader>Y</displayHeader>
      <limitRows>N</limitRows>
      <limitRowsNumber>0</limitRowsNumber>
      <logmessage/>
    <fields>
      <field>
        <name>ValidationMsgField</name>
        </field>
      <field>
        <name>xml_valid</name>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>224</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Write to log 2 2</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <loglevel>log_level_basic</loglevel>
      <displayHeader>Y</displayHeader>
      <limitRows>N</limitRows>
      <limitRowsNumber>0</limitRowsNumber>
      <logmessage>PON&#x21;</logmessage>
    <fields>
      <field>
        <name>pon_encoded</name>
        </field>
      <field>
        <name>PON</name>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1632</xloc>
      <yloc>512</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>XML Valid&#x3f;</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Pharmacy exist or va_station_id null&#x3f;</send_true_to>
<send_false_to>Update Message XSD Validation Failed</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>xml_valid</leftvalue>
 <function>&#x3d;</function>
 <rightvalue/>
 <value><name>constant</name><type>String</type><text>1</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value> </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>336</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>XSD Validator</name>
    <type>XSDValidator</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <xdsfilename>C&#x3a;&#x5c;Users&#x5c;VHAHAMWandlJ&#x5c;.kettle&#x5c;EMD_NCPDP_SCRIPT_10_6.xsd</xdsfilename>
    <xmlstream>MESSAGE</xmlstream>
    <resultfieldname>xml_valid</resultfieldname>
    <addvalidationmsg>Y</addvalidationmsg>
    <validationmsgfield>ValidationMsgField</validationmsgfield>
    <ifxmlunvalid>0</ifxmlunvalid>
    <ifxmlvalid>1</ifxmlvalid>
    <outputstringfield>Y</outputstringfield>
    <xmlsourcefile>N</xmlsourcefile>
    <xsddefinedfield>NCPDP_XSD_PATH</xsddefinedfield>
    <xsdsource>fieldname</xsdsource>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>224</xloc>
      <yloc>32</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
      <error>
        <source_step>XSD Validator</source_step>
        <target_step/>
        <is_enabled>N</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>IBMP_ProviderCheck_TRN</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;inbound_main</directory>
    <parameters>
        <parameter>
            <name>INBOUND_NCPDP_MSG_ID</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>PHARMACY_DIVISION</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;26 23&#x3a;39&#x3a;45.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;12&#x2f;20 12&#x3a;01&#x3a;16.000</modified_date>
    <key_for_session_key/>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>JSON Input 2</from><to>Retry Check</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check</from><to>Provider Check Failure - RPC not reachable</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check</from><to>Provider Check Failure Allow Retry</to><enabled>Y</enabled> </hop>
  <hop> <from>Table input</from><to>REST Client</to><enabled>Y</enabled> </hop>
  <hop> <from>check for success</from><to>check for failure type</to><enabled>Y</enabled> </hop>
  <hop> <from>check for failure type</from><to>Retry Check 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2</from><to>Provider Check Failure Allow Retry 2</to><enabled>Y</enabled> </hop>
  <hop> <from>Retry Check 2</from><to>Provider Check Failure - RPC not reachable 2</to><enabled>Y</enabled> </hop>
  <hop> <from>check for failure type</from><to>Replace 0 with Provider Not Authorized</to><enabled>Y</enabled> </hop>
  <hop> <from>Replace 0 with Provider Not Authorized</from><to>Provider Check Failure</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input 2</from><to>Write to log</to><enabled>Y</enabled> </hop>
  <hop> <from>JSON Input 2</from><to>check for success</to><enabled>Y</enabled> </hop>
  <hop> <from>REST Client</from><to>JSON Input 2</to><enabled>Y</enabled> </hop>
  <hop> <from>check for success</from><to>Replace in string</to><enabled>Y</enabled> </hop>
  <hop> <from>Replace in string</from><to>Provider Check Success</to><enabled>Y</enabled> </hop>
  <hop> <from>Provider Check Success</from><to>Provider Check Failure - RPC not reachable 2</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>JSON Input 2</name>
    <type>JsonInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <readurl>N</readurl>
    <removeSourceField>N</removeSourceField>
    <IsIgnoreEmptyFile>Y</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <ignoreMissingPath>Y</ignoreMissingPath>
    <defaultPathLeafToNull>N</defaultPathLeafToNull>
    <rownum_field/>
    <file>
      <name/>
      <filemask/>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>success</name>
        <path>success</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>errorMessage</name>
        <path>errorMessage</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>providerFirstName</name>
        <path>providerFirstName</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>providerLastName</name>
        <path>providerLastName</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>vistaIEN</name>
        <path>vistaIEN</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>vistaMessage</name>
        <path>vistaMessage</path>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>both</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <IsInFields>Y</IsInFields>
    <IsAFile>N</IsAFile>
    <valueField>rest_result</valueField>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>272</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Provider Check Failure</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set provider_chk_status &#x3d; &#x27;2002&#x27;,&#xd;&#xa;provider_match_details &#x3d; &#x27;&#x3c;providerCheck&#x3e;&#x3c;success&#x3e;&#x3f;&#x3c;&#x2f;success&#x3e;&#x3c;providerFirstName&#x3e;&#x3c;&#x2f;providerFirstName&#x3e;&#x3c;providerLastName&#x3e;&#x3c;&#x2f;providerLastName&#x3e;&#x3c;providerIEN&#x3e;&#x3c;&#x2f;providerIEN&#x3e;&#x3c;errorMessage&#x3e;&#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;providerCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x3f;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>success</name></argument>
       <argument><name>vistaMessage</name></argument>
       <argument><name>RUNCOUNT</name></argument>
       <argument><name>INBOUND_NCPDP_MSG_ID</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>880</xloc>
      <yloc>160</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Provider Check Failure - RPC not reachable</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set provider_chk_status &#x3d; &#x27;2003&#x27;,&#xd;&#xa;provider_match_details &#x3d; &#x27;&#x3c;providerCheck&#x3e;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#x3c;providerFirstName&#x3e;&#x3c;&#x2f;providerFirstName&#x3e;&#x3c;providerLastName&#x3e;&#x3c;&#x2f;providerLastName&#x3e;&#x3c;providerIEN&#x3e;&#x3c;&#x2f;providerIEN&#x3e;&#x3c;errorMessage&#x3e;VISTAOP_RETRIES_EXCEEDED_PROVIDER_RPC_NOT_AVAILABLE&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;providerCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x3f;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>RUNCOUNT</name></argument>
       <argument><name>INBOUND_NCPDP_MSG_ID</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>576</xloc>
      <yloc>144</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Provider Check Failure - RPC not reachable 2</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set provider_chk_status &#x3d; &#x27;2003&#x27;,&#xd;&#xa;provider_match_details &#x3d; &#x27;&#x3c;providerCheck&#x3e;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#x3c;providerFirstName&#x3e;&#x3c;&#x2f;providerFirstName&#x3e;&#x3c;providerLastName&#x3e;&#x3c;&#x2f;providerLastName&#x3e;&#x3c;providerIEN&#x3e;&#x3c;&#x2f;providerIEN&#x3e;&#x3c;errorMessage&#x3e;VISTAOP_RETRIES_EXCEEDED_PROVIDER_RPC_NOT_AVAILABLE&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;providerCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x3f;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>RUNCOUNT</name></argument>
       <argument><name>INBOUND_NCPDP_MSG_ID</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1104</xloc>
      <yloc>112</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Provider Check Failure Allow Retry</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set provider_chk_status &#x3d; &#x27;2004&#x27;,&#xd;&#xa;provider_match_details &#x3d; &#xd;&#xa;&#x27;&#x3c;providerCheck&#x3e;&#x3c;success&#x3e;false&#x3c;&#x2f;success&#x3e;&#x3c;providerFirstName&#x3e;&#x3c;&#x2f;providerFirstName&#x3e;&#x3c;providerLastName&#x3e;&#x3c;&#x2f;providerLastName&#x3e;&#x3c;providerIEN&#x3e;&#x3c;&#x2f;providerIEN&#x3e;&#x3c;errorMessage&#x3e;&#x3c;&#x21;&#x5b;CDATA&#x5b; &#x3f; &#x5d;&#x5d;&#x3e;&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;providerCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>rest_result</name></argument>
       <argument><name>RUNCOUNT</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>432</xloc>
      <yloc>240</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Provider Check Failure Allow Retry 2</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set provider_chk_status &#x3d; &#x27;2004&#x27;,&#xd;&#xa;provider_match_details &#x3d; &#x27;&#x3c;providerCheck&#x3e;&#x3c;success&#x3e;&#x3f;&#x3c;&#x2f;success&#x3e;&#x3c;providerFirstName&#x3e;&#x3c;&#x2f;providerFirstName&#x3e;&#x3c;providerLastName&#x3e;&#x3c;&#x2f;providerLastName&#x3e;&#x3c;providerIEN&#x3e;&#x3c;&#x2f;providerIEN&#x3e;&#x3c;errorMessage&#x3e;System error occurred&#x3a; &#x3f; &#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;providerCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x3f;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>success</name></argument>
       <argument><name>vistaMessage</name></argument>
       <argument><name>RUNCOUNT</name></argument>
       <argument><name>INBOUND_NCPDP_MSG_ID</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>1104</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Provider Check Success</name>
    <type>ExecSQL</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <execute_each_row>Y</execute_each_row>
    <single_statement>N</single_statement>
    <replace_variables>Y</replace_variables>
    <quoteString>N</quoteString>
    <sql>update inbound_ncpdp_msg&#xd;&#xa;set provider_chk_status &#x3d; &#x27;2001&#x27;,&#xd;&#xa;provider_match_details &#x3d; &#x27;&#x3c;providerCheck&#x3e;&#x3c;success&#x3e;&#x3f;&#x3c;&#x2f;success&#x3e;&#x3c;providerFirstName&#x3e;&#x3f;&#x3c;&#x2f;providerFirstName&#x3e;&#x3c;providerLastName&#x3e;&#x3f;&#x3c;&#x2f;providerLastName&#x3e;&#x3c;providerIEN&#x3e;&#x3f;&#x3c;&#x2f;providerIEN&#x3e;&#x3c;errorMessage&#x3e;&#x3f;&#x3c;&#x2f;errorMessage&#x3e;&#x3c;runCount&#x3e;&#x3f;&#x3c;&#x2f;runCount&#x3e;&#x3c;&#x2f;providerCheck&#x3e;&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
    <set_params>N</set_params>
    <insert_field/>
    <update_field/>
    <delete_field/>
    <read_field/>
    <arguments>
       <argument><name>success</name></argument>
       <argument><name>providerFirstName</name></argument>
       <argument><name>providerLastName</name></argument>
       <argument><name>vistaIEN</name></argument>
       <argument><name>errorMessage</name></argument>
       <argument><name>RUNCOUNT</name></argument>
    </arguments>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>960</xloc>
      <yloc>272</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>REST Client</name>
    <type>Rest</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <applicationType>JSON</applicationType>
    <method>POST</method>
    <url/>
    <urlInField>Y</urlInField>
    <dynamicMethod>N</dynamicMethod>
    <methodFieldName/>
    <urlField>URL</urlField>
    <bodyField>BODY</bodyField>
    <httpLogin>&#x24;&#x7b;WS_USERNAME&#x7d;</httpLogin>
    <httpPassword>&#x24;&#x7b;WS_PASSWORD&#x7d;</httpPassword>
    <proxyHost/>
    <proxyPort/>
    <preemptive>Y</preemptive>
    <trustStoreFile/>
    <trustStorePassword>Encrypted </trustStorePassword>
    <headers>
      </headers>
    <parameters>
      </parameters>
    <matrixParameters>
      </matrixParameters>
    <result>
      <name>rest_result</name>
      <code/>
      <response_time/>
      </result>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>144</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Replace 0 with Provider Not Authorized</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>vistaMessage</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>0</replace_string>
        <replace_by_string>Provider Not Authorized</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>yes</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>784</xloc>
      <yloc>80</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Replace in string</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <fields>
      <field>
        <in_stream_name>providerFirstName</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x27;</replace_string>
        <replace_by_string>&#x27;&#x27;</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
      <field>
        <in_stream_name>providerLastName</in_stream_name>
        <out_stream_name/>
        <use_regex>no</use_regex>
        <replace_string>&#x27;</replace_string>
        <replace_by_string>&#x27;&#x27;</replace_by_string>
        <set_empty_string>N</set_empty_string>
        <replace_field_by_string/>
        <whole_word>no</whole_word>
        <case_sensitive>no</case_sensitive>
      </field>
    </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>752</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Retry Check</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Provider Check Failure Allow Retry</send_true_to>
<send_false_to>Provider Check Failure - RPC not reachable</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>RUNCOUNT</leftvalue>
 <function>&#x3c;</function>
 <rightvalue>RETRY</rightvalue>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>384</xloc>
      <yloc>128</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Retry Check 2</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Provider Check Failure Allow Retry 2</send_true_to>
<send_false_to>Provider Check Failure - RPC not reachable 2</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>RUNCOUNT</leftvalue>
 <function>&#x3c;</function>
 <rightvalue>RETRY</rightvalue>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>864</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Table input</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <sql>select &#x28;select value from app_configuration where key &#x3d; &#x27;ERX_URL&#x27;&#x29;&#x7c;&#x7c;&#xd;&#xa;&#x28;select value from app_configuration where key &#x3d; &#x27;PRVDRCHK_RS_URI&#x27;&#x29;as url,&#xd;&#xa;&#x27;&#x7b;&#x22;providerDEANumber&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;provider_info.deaNumber&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;controlledSubstance&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;decode&#x28;provider_info.controlledSubstance,&#x27;C48672&#x27;,1,&#x27;C48675&#x27;,1, &#x27;C48676&#x27;,1,&#x27;C48677&#x27;,1,&#x27;C48679&#x27;,1,0&#x29;&#x7c;&#x7c;&#x27;&#x22;,&#x27;&#x7c;&#x7c;&#xd;&#xa;&#x27;&#x22;providerNPI&#x22;&#x3a;&#x22;&#x27;&#x7c;&#x7c;nvl&#x28;provider_info.npi1,provider_info.npi2&#x29;&#x7c;&#x7c;&#x27;&#x22;,&#x22;division&#x22;&#x3a;&#x22;&#x24;&#x7b;PHARMACY_DIVISION&#x7d;&#x22;&#x7d;&#x27; as body,&#xd;&#xa;t.inbound_ncpdp_msg_id inbound_ncpdp_msg_id,&#xd;&#xa;&#x28;nvl&#x28;extractValue&#x28;xmltype&#x28;nvl&#x28;t.provider_match_details,&#x27;&#x3c;providerCheck&#x2f;&#x3e;&#x27;&#x29;&#x29;, &#x27;&#x2f;providerCheck&#x2f;runCount&#x27;&#x29;,0&#x29; &#x2b; 1&#x29; runCount,&#xd;&#xa;nvl&#x28;&#x28;select value from app_configuration where key &#x3d; &#x27;VISTA_RETRY&#x27;&#x29;,0&#x29; as retry&#xd;&#xa;from erx.inbound_ncpdp_msg t, xmltable&#x28;xmlnamespaces&#x28;&#x27;http&#x3a;&#x2f;&#x2f;www.ncpdp.org&#x2f;schema&#x2f;SCRIPT&#x27; as &#x22;ns&#x22;&#x29;, &#x27;&#x2f;ns&#x3a;Message&#x27;&#xd;&#xa;    passing t.message&#xd;&#xa;    columns &#xd;&#xa;    deaNumber varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Prescriber&#x2f;ns&#x3a;Identification&#x2f;ns&#x3a;DEANumber&#x27;,&#xd;&#xa;    controlledSubstance varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;DrugCoded&#x2f;ns&#x3a;DEASchedule&#x27;,&#xd;&#xa;    NPI1 varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Prescriber&#x2f;ns&#x3a;Identification&#x2f;ns&#x3a;NPI&#x27;,&#xd;&#xa;    NPI2 varchar2&#x28;35&#x29; path &#x27;&#x2f;&#x2f;ns&#x3a;Header&#x2f;ns&#x3a;From&#x27;&#x29; provider_info&#xd;&#xa;    where t.inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;</sql>
    <limit>1</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>32</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Write to log</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
      <loglevel>log_level_basic</loglevel>
      <displayHeader>Y</displayHeader>
      <limitRows>N</limitRows>
      <limitRowsNumber>0</limitRowsNumber>
      <logmessage/>
    <fields>
      <field>
        <name>errorMessage</name>
        </field>
      <field>
        <name>rest_result</name>
        </field>
      <field>
        <name>vistaMessage</name>
        </field>
      <field>
        <name>success</name>
        </field>
      <field>
        <name>RUNCOUNT</name>
        </field>
      </fields>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>272</xloc>
      <yloc>176</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>check for failure type</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Replace 0 with Provider Not Authorized</send_true_to>
<send_false_to>Retry Check 2</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <conditions>
  <condition>
   <negated>N</negated>
   <leftvalue>vistaIEN</leftvalue>
   <function>IS NULL</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>Could not match provider.</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  <condition>
   <negated>N</negated>
   <operator>AND</operator>
   <leftvalue>errorMessage</leftvalue>
   <function>IS NULL</function>
   <rightvalue/>
   <value><name>constant</name><type>String</type><text>0</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value>   </condition>
  </conditions>
 </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>688</xloc>
      <yloc>16</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>check for success</name>
    <type>FilterRows</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
<send_true_to>Replace in string</send_true_to>
<send_false_to>check for failure type</send_false_to>
    <compare>
<condition>
 <negated>N</negated>
 <leftvalue>success</leftvalue>
 <function>&#x3d;</function>
 <rightvalue/>
 <value><name>constant</name><type>String</type><text>true</text><length>-1</length><precision>-1</precision><isnull>N</isnull><mask/></value> </condition>
    </compare>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>528</xloc>
      <yloc>64</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
      <error>
        <source_step>JSON Input 2</source_step>
        <target_step>Retry Check</target_step>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
      <error>
        <source_step>Provider Check Success</source_step>
        <target_step>Provider Check Failure - RPC not reachable 2</target_step>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
      <error>
        <source_step>REST Client</source_step>
        <target_step/>
        <is_enabled>Y</is_enabled>
        <nr_valuename/>
        <descriptions_valuename/>
        <fields_valuename/>
        <codes_valuename/>
        <max_errors/>
        <max_pct_errors/>
        <min_pct_rows/>
      </error>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

<transformation>
  <info>
    <name>IBMP_UpdateERx_TRN</name>
    <description/>
    <extended_description/>
    <trans_version/>
    <trans_type>Normal</trans_type>
    <trans_status>0</trans_status>
    <directory>&#x2f;inbound_main</directory>
    <parameters>
        <parameter>
            <name>INBOUND_NCPDP_MSG_ID</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
    <log>
<trans-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name><subject/></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name><subject/></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name><subject/></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name><subject/></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name><subject/></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name><subject/></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></trans-log-table>
<perf-log-table><connection/>
<schema/>
<table/>
<interval/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>SEQ_NR</id><enabled>Y</enabled><name>SEQ_NR</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>INPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>INPUT_BUFFER_ROWS</name></field><field><id>OUTPUT_BUFFER_ROWS</id><enabled>Y</enabled><name>OUTPUT_BUFFER_ROWS</name></field></perf-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
<step-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>TRANSNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>STEPNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>STEP_COPY</id><enabled>Y</enabled><name>STEP_COPY</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field></step-log-table>
<metrics-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>METRICS_DATE</id><enabled>Y</enabled><name>METRICS_DATE</name></field><field><id>METRICS_CODE</id><enabled>Y</enabled><name>METRICS_CODE</name></field><field><id>METRICS_DESCRIPTION</id><enabled>Y</enabled><name>METRICS_DESCRIPTION</name></field><field><id>METRICS_SUBJECT</id><enabled>Y</enabled><name>METRICS_SUBJECT</name></field><field><id>METRICS_TYPE</id><enabled>Y</enabled><name>METRICS_TYPE</name></field><field><id>METRICS_VALUE</id><enabled>Y</enabled><name>METRICS_VALUE</name></field></metrics-log-table>
    </log>
    <maxdate>
      <connection/>
      <table/>
      <field/>
      <offset>0.0</offset>
      <maxdiff>0.0</maxdiff>
    </maxdate>
    <size_rowset>10000</size_rowset>
    <sleep_time_empty>50</sleep_time_empty>
    <sleep_time_full>50</sleep_time_full>
    <unique_connections>N</unique_connections>
    <feedback_shown>Y</feedback_shown>
    <feedback_size>50000</feedback_size>
    <using_thread_priorities>Y</using_thread_priorities>
    <shared_objects_file/>
    <capture_step_performance>N</capture_step_performance>
    <step_performance_capturing_delay>1000</step_performance_capturing_delay>
    <step_performance_capturing_size_limit>100</step_performance_capturing_size_limit>
    <dependencies>
    </dependencies>
    <partitionschemas>
    </partitionschemas>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
    <clusterschemas>
    </clusterschemas>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;08&#x2f;16 10&#x3a;21&#x3a;52.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;03&#x2f;26 21&#x3a;57&#x3a;12.000</modified_date>
    <key_for_session_key/>
    <is_key_private>N</is_key_private>
  </info>
  <notepads>
  </notepads>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
  <order>
  <hop> <from>Table input</from><to>Update</to><enabled>Y</enabled> </hop>
  </order>
  <step>
    <name>Table input</name>
    <type>TableInput</type>
    <description/>
    <distribute>N</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <sql>select a.inbound_ncpdp_msg_id, a.patient_chk_status, a.patient_match_details,&#xd;&#xa;b.provider_chk_status, b.provider_match_details,&#xd;&#xa;c.drug_chk_status, c.drug_match_details,&#xd;&#xa;&#x27;3001&#x27; message_status from &#xd;&#xa;&#x28;select inbound_ncpdp_msg_id,&#xd;&#xa;PATIENT_CHK_STATUS,&#xd;&#xa;PATIENT_MATCH_DETAILS&#xd;&#xa;from inbound_ncpdp_msg_hist&#x29; a,&#xd;&#xa;&#x28;select inbound_ncpdp_msg_id,&#xd;&#xa;PROVIDER_CHK_STATUS,&#xd;&#xa;PROVIDER_MATCH_DETAILS&#xd;&#xa;from inbound_ncpdp_msg_hist&#x29; b,&#xd;&#xa;&#x28;select inbound_ncpdp_msg_id,&#xd;&#xa;DRUG_CHK_STATUS,&#xd;&#xa;DRUG_MATCH_DETAILS&#xd;&#xa;from inbound_ncpdp_msg_hist&#x29; c&#xd;&#xa;where&#xd;&#xa;a.inbound_ncpdp_msg_id &#x3d; b.inbound_ncpdp_msg_id&#xd;&#xa;and b.inbound_ncpdp_msg_id &#x3d; c.inbound_ncpdp_msg_id&#xd;&#xa;and a.patient_chk_status in &#x28;&#x27;0105&#x27;,&#x27;0102&#x27;,&#x27;0101&#x27;,&#x27;0103&#x27;,&#x27;0002&#x27;&#x29;&#xd;&#xa;and b.provider_chk_status in &#x28;&#x27;2003&#x27;,&#x27;2002&#x27;,&#x27;2001&#x27;&#x29;&#xd;&#xa;and c.drug_chk_status in &#x28;&#x27;1001&#x27;,&#x27;1003&#x27;,&#x27;1002&#x27;&#x29;&#xd;&#xa;and a.inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;</sql>
    <limit>0</limit>
    <lookup/>
    <execute_each_row>N</execute_each_row>
    <variables_active>Y</variables_active>
    <lazy_conversion_active>N</lazy_conversion_active>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>240</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step>
    <name>Update</name>
    <type>Update</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
         <partitioning>
           <method>none</method>
           <schema_name/>
           </partitioning>
    <connection>local_erx</connection>
    <skip_lookup>N</skip_lookup>
    <commit>1</commit>
    <use_batch>N</use_batch>
    <error_ignored>N</error_ignored>
    <ignore_flag_field/>
    <lookup>
      <schema/>
      <table>INBOUND_NCPDP_MSG</table>
      <key>
        <name>INBOUND_NCPDP_MSG_ID</name>
        <field>INBOUND_NCPDP_MSG_ID</field>
        <condition>&#x3d;</condition>
        <name2/>
        </key>
      <value>
        <name>INBOUND_NCPDP_MSG_ID</name>
        <rename>INBOUND_NCPDP_MSG_ID</rename>
        </value>
      <value>
        <name>PATIENT_CHK_STATUS</name>
        <rename>PATIENT_CHK_STATUS</rename>
        </value>
      <value>
        <name>PATIENT_MATCH_DETAILS</name>
        <rename>PATIENT_MATCH_DETAILS</rename>
        </value>
      <value>
        <name>PROVIDER_CHK_STATUS</name>
        <rename>PROVIDER_CHK_STATUS</rename>
        </value>
      <value>
        <name>PROVIDER_MATCH_DETAILS</name>
        <rename>PROVIDER_MATCH_DETAILS</rename>
        </value>
      <value>
        <name>DRUG_CHK_STATUS</name>
        <rename>DRUG_CHK_STATUS</rename>
        </value>
      <value>
        <name>DRUG_MATCH_DETAILS</name>
        <rename>DRUG_MATCH_DETAILS</rename>
        </value>
      <value>
        <name>MESSAGE_STATUS</name>
        <rename>MESSAGE_STATUS</rename>
        </value>
      </lookup>
     <cluster_schema/>
 <remotesteps>   <input>   </input>   <output>   </output> </remotesteps>    <GUI>
      <xloc>560</xloc>
      <yloc>224</yloc>
      <draw>Y</draw>
      </GUI>
    </step>

  <step_error_handling>
  </step_error_handling>
   <slave-step-copy-partition-distribution>
</slave-step-copy-partition-distribution>
   <slave_transformation>N</slave_transformation>

</transformation>

</transformations>
<jobs>
<job>
  <name>IBMP_AutoChecks_JOB</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;inbound_main</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;08&#x2f;16 16&#x3a;29&#x3a;33.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;02&#x2f;06 15&#x3a;28&#x3a;16.000</modified_date>
    <parameters>
        <parameter>
            <name>INBOUND_NCPDP_MSG_ID</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>64</xloc>
      <yloc>288</yloc>
      </entry>
    <entry>
      <name>Update Status - Auto Check Completed</name>
      <description/>
      <type>SQL</type>
      <sql>update inbound_ncpdp_msg&#xd;&#xa;set message_status &#x3d; &#x27;3001&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
      <useVariableSubstitution>T</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename/>
      <sendOneStatement>F</sendOneStatement>
      <connection>local_erx</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>848</xloc>
      <yloc>384</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>704</xloc>
      <yloc>288</yloc>
      </entry>
    <entry>
      <name>IBMP_PatientCheck_TRN</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_ref</specification_method>
      <trans_object_id>10</trans_object_id>
      <filename/>
      <transname>IBMP_PatientCheck_TRN</transname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>INBOUND_NCPDP_MSG_ID</name>
            <stream_name>INBOUND_NCPDP_MSG_ID</stream_name>
            <value/>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>384</xloc>
      <yloc>416</yloc>
      </entry>
    <entry>
      <name>IBMP_DrugCheck_TRN</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_ref</specification_method>
      <trans_object_id>2</trans_object_id>
      <filename/>
      <transname>IBMP_DrugCheck_TRN</transname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>INBOUND_NCPDP_MSG_ID</name>
            <stream_name>INBOUND_NCPDP_MSG_ID</stream_name>
            <value/>
            </parameter>            <parameter>            <name>PHARMACY_DIVISION</name>
            <stream_name>PHARMACY_DIVISION</stream_name>
            <value/>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>384</xloc>
      <yloc>160</yloc>
      </entry>
    <entry>
      <name>IBMP_ProviderCheck_TRN</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_ref</specification_method>
      <trans_object_id>4</trans_object_id>
      <filename/>
      <transname>IBMP_ProviderCheck_TRN</transname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>INBOUND_NCPDP_MSG_ID</name>
            <stream_name>INBOUND_NCPDP_MSG_ID</stream_name>
            <value/>
            </parameter>            <parameter>            <name>PHARMACY_DIVISION</name>
            <stream_name>PHARMACY_DIVISION</stream_name>
            <value/>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>384</xloc>
      <yloc>288</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>IBMP_ProviderCheck_TRN</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>IBMP_DrugCheck_TRN</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>IBMP_ProviderCheck_TRN</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>IBMP_DrugCheck_TRN</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>IBMP_PatientCheck_TRN</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>IBMP_PatientCheck_TRN</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Success</from>
      <to>Update Status - Auto Check Completed</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>IBMP_AutoChecks_Retry_JOB</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;inbound_main</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;08&#x2f;16 16&#x3a;29&#x3a;33.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2017&#x2f;02&#x2f;06 15&#x3a;55&#x3a;27.000</modified_date>
    <parameters>
        <parameter>
            <name>DRUG_CHK_STATUS</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>INBOUND_NCPDP_MSG_ID</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>PATIENT_CHK_STATUS</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>PHARMACY_DIVISION</name>
            <default_value/>
            <description/>
        </parameter>
        <parameter>
            <name>PROVIDER_CHK_STATUS</name>
            <default_value/>
            <description/>
        </parameter>
    </parameters>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>IBMP_ProviderCheck_TRN</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_ref</specification_method>
      <trans_object_id>4</trans_object_id>
      <filename/>
      <transname>IBMP_ProviderCheck_TRN</transname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>INBOUND_NCPDP_MSG_ID</name>
            <stream_name>INBOUND_NCPDP_MSG_ID</stream_name>
            <value/>
            </parameter>            <parameter>            <name>PHARMACY_DIVISION</name>
            <stream_name>PHARMACY_DIVISION</stream_name>
            <value/>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>400</xloc>
      <yloc>320</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>16</xloc>
      <yloc>272</yloc>
      </entry>
    <entry>
      <name>Update Status - Auto Check Completed</name>
      <description/>
      <type>SQL</type>
      <sql>update inbound_ncpdp_msg&#xd;&#xa;set message_status &#x3d; &#x27;3001&#x27;&#xd;&#xa;where inbound_ncpdp_msg_id &#x3d; &#x24;&#x7b;INBOUND_NCPDP_MSG_ID&#x7d;&#x3b;&#xd;&#xa;commit&#x3b;</sql>
      <useVariableSubstitution>T</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename/>
      <sendOneStatement>F</sendOneStatement>
      <connection>local_erx</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>848</xloc>
      <yloc>384</yloc>
      </entry>
    <entry>
      <name>IBMP_PatientCheck_TRN</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_ref</specification_method>
      <trans_object_id>10</trans_object_id>
      <filename/>
      <transname>IBMP_PatientCheck_TRN</transname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>INBOUND_NCPDP_MSG_ID</name>
            <stream_name>INBOUND_NCPDP_MSG_ID</stream_name>
            <value/>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>416</xloc>
      <yloc>448</yloc>
      </entry>
    <entry>
      <name>IBMP_DrugCheck_TRN</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_ref</specification_method>
      <trans_object_id>2</trans_object_id>
      <filename/>
      <transname>IBMP_DrugCheck_TRN</transname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>INBOUND_NCPDP_MSG_ID</name>
            <stream_name>INBOUND_NCPDP_MSG_ID</stream_name>
            <value/>
            </parameter>            <parameter>            <name>PHARMACY_DIVISION</name>
            <stream_name>PHARMACY_DIVISION</stream_name>
            <value/>
            </parameter>      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>416</xloc>
      <yloc>176</yloc>
      </entry>
    <entry>
      <name>Check for Drug Retry</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>field</valuetype>
      <fieldname>DRUG_CHK_STATUS</fieldname>
      <variablename/>
      <fieldtype>string</fieldtype>
      <mask/>
      <comparevalue>1004</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>240</xloc>
      <yloc>208</yloc>
      </entry>
    <entry>
      <name>Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>704</xloc>
      <yloc>288</yloc>
      </entry>
    <entry>
      <name>Check for Provider Retry</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>field</valuetype>
      <fieldname>PROVIDER_CHK_STATUS</fieldname>
      <variablename/>
      <fieldtype>string</fieldtype>
      <mask/>
      <comparevalue>2004</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>equal</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>224</xloc>
      <yloc>288</yloc>
      </entry>
    <entry>
      <name>Check for PatientCheck Retry</name>
      <description/>
      <type>SIMPLE_EVAL</type>
      <valuetype>field</valuetype>
      <fieldname>PATIENT_CHK_STATUS</fieldname>
      <variablename/>
      <fieldtype>string</fieldtype>
      <mask/>
      <comparevalue>0107,0004</comparevalue>
      <minvalue/>
      <maxvalue/>
      <successcondition>inlist</successcondition>
      <successnumbercondition>equal</successnumbercondition>
      <successbooleancondition>false</successbooleancondition>
      <successwhenvarset>N</successwhenvarset>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>240</xloc>
      <yloc>432</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>Success</from>
      <to>Update Status - Auto Check Completed</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>IBMP_ProviderCheck_TRN</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check for Drug Retry</from>
      <to>IBMP_DrugCheck_TRN</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>IBMP_PatientCheck_TRN</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>Check for Drug Retry</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>IBMP_DrugCheck_TRN</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check for PatientCheck Retry</from>
      <to>IBMP_PatientCheck_TRN</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>Check for PatientCheck Retry</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>Check for Provider Retry</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Check for Provider Retry</from>
      <to>IBMP_ProviderCheck_TRN</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check for PatientCheck Retry</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check for Provider Retry</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Check for Drug Retry</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>InboundMessageProcessingRetry_JOB</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;inbound_main</directory>
  <created_user>admin</created_user>
  <created_date>2017&#x2f;03&#x2f;26 23&#x3a;39&#x3a;46.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2018&#x2f;08&#x2f;21 15&#x3a;08&#x3a;27.000</modified_date>
    <parameters>
    </parameters>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>IBMP_ProcessERx_Retry_TRN</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_ref</specification_method>
      <trans_object_id>15</trans_object_id>
      <filename/>
      <transname>IBMP_ProcessERx_Retry_TRN</transname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>416</xloc>
      <yloc>80</yloc>
      </entry>
    <entry>
      <name>Check for Messages to Process</name>
      <description/>
      <type>WAIT_FOR_SQL</type>
      <connection>local_erx</connection>
      <schemaname/>
      <tablename/>
      <success_condition>rows_count_greater</success_condition>
      <rows_count_value>0</rows_count_value>
      <is_custom_sql>Y</is_custom_sql>
      <is_usevars>N</is_usevars>
      <custom_sql>select t.inbound_ncpdp_msg_id,&#xd;&#xa;t.drug_chk_status drug_chk_status,&#xd;&#xa;t.provider_chk_status provider_chk_status,&#xd;&#xa;t.patient_chk_status patient_chk_status&#xd;&#xa;from erx.inbound_ncpdp_msg t&#xd;&#xa;    where &#xd;&#xa;    t.message_status &#x3d; &#x27;3001&#x27;&#xd;&#xa;    and t.message is not null&#xd;&#xa;    and &#x28;t.drug_chk_status &#x3d; &#x27;1004&#x27;&#xd;&#xa;    or t.provider_chk_status &#x3d; &#x27;2004&#x27;&#xd;&#xa;    or t.patient_chk_status in &#x28;&#x27;0004&#x27;,&#x27;0107&#x27;&#x29;&#x29;</custom_sql>
      <add_rows_result>N</add_rows_result>
      <maximum_timeout>0</maximum_timeout>
      <check_cycle_time>&#x24;&#x7b;JOB_CHECK_CYCLE_TIME&#x7d;</check_cycle_time>
      <success_on_timeout>N</success_on_timeout>
      <clear_result_rows>Y</clear_result_rows>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>160</xloc>
      <yloc>160</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>Y</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>20</intervalSeconds>
      <intervalMinutes>0</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>32</xloc>
      <yloc>160</yloc>
      </entry>
    <entry>
      <name>IBMP_AutoChecks_Retry_JOB</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_ref</specification_method>
      <job_object_id>11</job_object_id>
      <filename/>
      <jobname>IBMP_AutoChecks_Retry_JOB</jobname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>INBOUND_NCPDP_MSG_ID</name>
            <stream_name>INBOUND_NCPDP_MSG_ID</stream_name>
            <value/>
            </parameter>            <parameter>            <name>DRUG_CHK_STATUS</name>
            <stream_name>DRUG_CHK_STATUS</stream_name>
            <value/>
            </parameter>            <parameter>            <name>PROVIDER_CHK_STATUS</name>
            <stream_name>PROVIDER_CHK_STATUS</stream_name>
            <value/>
            </parameter>            <parameter>            <name>PATIENT_CHK_STATUS</name>
            <stream_name>PATIENT_CHK_STATUS</stream_name>
            <value/>
            </parameter>            <parameter>            <name>PHARMACY_DIVISION</name>
            <stream_name>PHARMACY_DIVISION</stream_name>
            <value/>
            </parameter>      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>656</xloc>
      <yloc>160</yloc>
      </entry>
    <entry>
      <name>Job Finished Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>416</xloc>
      <yloc>208</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>IBMP_AutoChecks_Retry_JOB</from>
      <to>Job Finished Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>IBMP_ProcessERx_Retry_TRN</from>
      <to>IBMP_AutoChecks_Retry_JOB</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>Check for Messages to Process</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Check for Messages to Process</from>
      <to>IBMP_ProcessERx_Retry_TRN</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

<job>
  <name>InboundMessageProcessing_JOB</name>
    <description/>
    <extended_description/>
    <job_version/>
    <job_status>0</job_status>
  <directory>&#x2f;inbound_main</directory>
  <created_user>admin</created_user>
  <created_date>2016&#x2f;08&#x2f;16 09&#x3a;57&#x3a;08.000</created_date>
  <modified_user>admin</modified_user>
  <modified_date>2018&#x2f;04&#x2f;20 13&#x3a;49&#x3a;18.000</modified_date>
    <parameters>
    </parameters>
  <connection>
    <name>local_erx</name>
    <server>&#x24;&#x7b;DB_HOST_NAME&#x7d;</server>
    <type>ORACLE</type>
    <access>Native</access>
    <database>&#x24;&#x7b;DB_NAME&#x7d;</database>
    <port>&#x24;&#x7b;DB_PORT&#x7d;</port>
    <username>&#x24;&#x7b;DB_USERNAME&#x7d;</username>
    <password>&#x24;&#x7b;DB_PASSWORD&#x7d;</password>
    <servername/>
    <data_tablespace/>
    <index_tablespace/>
    <attributes>
      <attribute><code>FORCE_IDENTIFIERS_TO_LOWERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>FORCE_IDENTIFIERS_TO_UPPERCASE</code><attribute>N</attribute></attribute>
      <attribute><code>INITIAL_POOL_SIZE</code><attribute>1</attribute></attribute>
      <attribute><code>IS_CLUSTERED</code><attribute>N</attribute></attribute>
      <attribute><code>MAXIMUM_POOL_SIZE</code><attribute>10</attribute></attribute>
      <attribute><code>PORT_NUMBER</code><attribute>&#x24;&#x7b;DB_PORT&#x7d;</attribute></attribute>
      <attribute><code>PRESERVE_RESERVED_WORD_CASE</code><attribute>Y</attribute></attribute>
      <attribute><code>QUOTE_ALL_FIELDS</code><attribute>N</attribute></attribute>
      <attribute><code>SUPPORTS_BOOLEAN_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>SUPPORTS_TIMESTAMP_DATA_TYPE</code><attribute>Y</attribute></attribute>
      <attribute><code>USE_POOLING</code><attribute>Y</attribute></attribute>
    </attributes>
  </connection>
    <slaveservers>
         <slaveserver><name>master1</name><hostname>localhost</hostname><port>8080</port><webAppName/><username>cluster</username><password>Encrypted 2be98afc86aa7f2e4cb1aa265cd86aac8</password><proxy_hostname/><proxy_port/><non_proxy_hosts/><master>Y</master><sslMode>N</sslMode></slaveserver>
    </slaveservers>
<job-log-table><connection/>
<schema/>
<table/>
<size_limit_lines/>
<interval/>
<timeout_days/>
<field><id>ID_JOB</id><enabled>Y</enabled><name>ID_JOB</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>JOBNAME</name></field><field><id>STATUS</id><enabled>Y</enabled><name>STATUS</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>STARTDATE</id><enabled>Y</enabled><name>STARTDATE</name></field><field><id>ENDDATE</id><enabled>Y</enabled><name>ENDDATE</name></field><field><id>LOGDATE</id><enabled>Y</enabled><name>LOGDATE</name></field><field><id>DEPDATE</id><enabled>Y</enabled><name>DEPDATE</name></field><field><id>REPLAYDATE</id><enabled>Y</enabled><name>REPLAYDATE</name></field><field><id>LOG_FIELD</id><enabled>Y</enabled><name>LOG_FIELD</name></field><field><id>EXECUTING_SERVER</id><enabled>N</enabled><name>EXECUTING_SERVER</name></field><field><id>EXECUTING_USER</id><enabled>N</enabled><name>EXECUTING_USER</name></field><field><id>START_JOB_ENTRY</id><enabled>N</enabled><name>START_JOB_ENTRY</name></field><field><id>CLIENT</id><enabled>N</enabled><name>CLIENT</name></field></job-log-table>
<jobentry-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>JOBNAME</id><enabled>Y</enabled><name>TRANSNAME</name></field><field><id>JOBENTRYNAME</id><enabled>Y</enabled><name>STEPNAME</name></field><field><id>LINES_READ</id><enabled>Y</enabled><name>LINES_READ</name></field><field><id>LINES_WRITTEN</id><enabled>Y</enabled><name>LINES_WRITTEN</name></field><field><id>LINES_UPDATED</id><enabled>Y</enabled><name>LINES_UPDATED</name></field><field><id>LINES_INPUT</id><enabled>Y</enabled><name>LINES_INPUT</name></field><field><id>LINES_OUTPUT</id><enabled>Y</enabled><name>LINES_OUTPUT</name></field><field><id>LINES_REJECTED</id><enabled>Y</enabled><name>LINES_REJECTED</name></field><field><id>ERRORS</id><enabled>Y</enabled><name>ERRORS</name></field><field><id>RESULT</id><enabled>Y</enabled><name>RESULT</name></field><field><id>NR_RESULT_ROWS</id><enabled>Y</enabled><name>NR_RESULT_ROWS</name></field><field><id>NR_RESULT_FILES</id><enabled>Y</enabled><name>NR_RESULT_FILES</name></field><field><id>LOG_FIELD</id><enabled>N</enabled><name>LOG_FIELD</name></field><field><id>COPY_NR</id><enabled>N</enabled><name>COPY_NR</name></field></jobentry-log-table>
<channel-log-table><connection/>
<schema/>
<table/>
<timeout_days/>
<field><id>ID_BATCH</id><enabled>Y</enabled><name>ID_BATCH</name></field><field><id>CHANNEL_ID</id><enabled>Y</enabled><name>CHANNEL_ID</name></field><field><id>LOG_DATE</id><enabled>Y</enabled><name>LOG_DATE</name></field><field><id>LOGGING_OBJECT_TYPE</id><enabled>Y</enabled><name>LOGGING_OBJECT_TYPE</name></field><field><id>OBJECT_NAME</id><enabled>Y</enabled><name>OBJECT_NAME</name></field><field><id>OBJECT_COPY</id><enabled>Y</enabled><name>OBJECT_COPY</name></field><field><id>REPOSITORY_DIRECTORY</id><enabled>Y</enabled><name>REPOSITORY_DIRECTORY</name></field><field><id>FILENAME</id><enabled>Y</enabled><name>FILENAME</name></field><field><id>OBJECT_ID</id><enabled>Y</enabled><name>OBJECT_ID</name></field><field><id>OBJECT_REVISION</id><enabled>Y</enabled><name>OBJECT_REVISION</name></field><field><id>PARENT_CHANNEL_ID</id><enabled>Y</enabled><name>PARENT_CHANNEL_ID</name></field><field><id>ROOT_CHANNEL_ID</id><enabled>Y</enabled><name>ROOT_CHANNEL_ID</name></field></channel-log-table>
   <pass_batchid>N</pass_batchid>
   <shared_objects_file/>
  <entries>
    <entry>
      <name>Check for Messages to Process</name>
      <description/>
      <type>WAIT_FOR_SQL</type>
      <connection>local_erx</connection>
      <schemaname/>
      <tablename/>
      <success_condition>rows_count_greater</success_condition>
      <rows_count_value>0</rows_count_value>
      <is_custom_sql>Y</is_custom_sql>
      <is_usevars>N</is_usevars>
      <custom_sql>select inbound_ncpdp_msg_id from inbound_ncpdp_msg &#xd;&#xa;where message_status &#x3d; &#x27;0000&#x27;&#xd;&#xa;and message is not null</custom_sql>
      <add_rows_result>N</add_rows_result>
      <maximum_timeout>0</maximum_timeout>
      <check_cycle_time>&#x24;&#x7b;JOB_CHECK_CYCLE_TIME&#x7d;</check_cycle_time>
      <success_on_timeout>N</success_on_timeout>
      <clear_result_rows>Y</clear_result_rows>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>176</xloc>
      <yloc>64</yloc>
      </entry>
    <entry>
      <name>IBMP_ProcessERx_TRN</name>
      <description/>
      <type>TRANS</type>
      <specification_method>rep_ref</specification_method>
      <trans_object_id>26</trans_object_id>
      <filename/>
      <transname>IBMP_ProcessERx_TRN</transname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name/>
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
      </parameters>      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>384</xloc>
      <yloc>64</yloc>
      </entry>
    <entry>
      <name>Job Finished Success</name>
      <description/>
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>768</xloc>
      <yloc>64</yloc>
      </entry>
    <entry>
      <name>IBMP_AutoChecks_JOB</name>
      <description/>
      <type>JOB</type>
      <specification_method>rep_ref</specification_method>
      <job_object_id>3</job_object_id>
      <filename/>
      <jobname>IBMP_AutoChecks_JOB</jobname>
      <directory>&#x2f;inbound_main</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>Y</params_from_previous>
      <exec_per_row>Y</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile/>
      <logext/>
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name/>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <parameters>        <pass_all_parameters>Y</pass_all_parameters>
            <parameter>            <name>INBOUND_NCPDP_MSG_ID</name>
            <stream_name>INBOUND_NCPDP_MSG_ID</stream_name>
            <value/>
            </parameter>            <parameter>            <name>PHARMACY_DIVISION</name>
            <stream_name>PHARMACY_DIVISION</stream_name>
            <value/>
            </parameter>      </parameters>      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>576</xloc>
      <yloc>64</yloc>
      </entry>
    <entry>
      <name>START</name>
      <description/>
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>Y</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>10</intervalSeconds>
      <intervalMinutes>0</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>32</xloc>
      <yloc>64</yloc>
      </entry>
  </entries>
  <hops>
    <hop>
      <from>START</from>
      <to>Check for Messages to Process</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Check for Messages to Process</from>
      <to>IBMP_ProcessERx_TRN</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>IBMP_AutoChecks_JOB</from>
      <to>Job Finished Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>IBMP_ProcessERx_TRN</from>
      <to>IBMP_AutoChecks_JOB</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>

</job>

</jobs>
</repository>

